id,created_at,published_at,name,body,author_url,author_id,author_login,assets_url,url,target_commitish,tarball_url,html_url,zipball_url,tag_name,draft,prerelease
8267002,2017-10-26T07:23:52Z,2017-10-26T08:13:10Z,6.2.8,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=202&state=closed) being closed.


__Bugs__
- [__#5056__](https://github.com/Particular/NServiceBus/pull/5056) Installing .NET Framework 4.7.1 can cause an endpoint to fail to start

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/8267002/assets,https://api.github.com/repos/Particular/NServiceBus/releases/8267002,support-6.2,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.8,https://github.com/Particular/NServiceBus/releases/tag/6.2.8,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.8,6.2.8,False,False
8266996,2017-10-26T07:24:09Z,2017-10-26T08:11:44Z,6.3.8,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=201&state=closed) being closed.


__Bugs__
- [__#5055__](https://github.com/Particular/NServiceBus/pull/5055) Installing .NET Framework 4.7.1 can cause an endpoint to fail to start

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/8266996/assets,https://api.github.com/repos/Particular/NServiceBus/releases/8266996,support-6.3,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.8,https://github.com/Particular/NServiceBus/releases/tag/6.3.8,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.8,6.3.8,False,False
8266986,2017-10-26T07:23:30Z,2017-10-26T08:10:04Z,6.4.2,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=200&state=closed) being closed.


__Bugs__
- [__#5047__](https://github.com/Particular/NServiceBus/issues/5047) Installing .NET Framework 4.7.1 can cause an endpoint to fail to start

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/8266986/assets,https://api.github.com/repos/Particular/NServiceBus/releases/8266986,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.4.2,https://github.com/Particular/NServiceBus/releases/tag/6.4.2,https://api.github.com/repos/Particular/NServiceBus/zipball/6.4.2,6.4.2,False,False
8010055,2017-10-04T07:35:47Z,2017-10-05T14:08:47Z,6.4.1,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=195&state=closed) being closed.


__Bugs__
- [__#4993__](https://github.com/Particular/NServiceBus/issues/4993) HandleCurrentMessageLater causes message loss when using Outbox

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/8010055/assets,https://api.github.com/repos/Particular/NServiceBus/releases/8010055,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.4.1,https://github.com/Particular/NServiceBus/releases/tag/6.4.1,https://api.github.com/repos/Particular/NServiceBus/zipball/6.4.1,6.4.1,False,False
8010039,2017-10-04T19:24:12Z,2017-10-05T14:07:12Z,6.3.7,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=196&state=closed) being closed.


__Bugs__
- [__#5002__](https://github.com/Particular/NServiceBus/pull/5002) HandleCurrentMessageLater causes message loss when using Outbox

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/8010039/assets,https://api.github.com/repos/Particular/NServiceBus/releases/8010039,support-6.3,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.7,https://github.com/Particular/NServiceBus/releases/tag/6.3.7,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.7,6.3.7,False,False
8010028,2017-10-04T19:25:07Z,2017-10-05T14:05:42Z,6.2.7,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=197&state=closed) being closed.


__Bugs__
- [__#5003__](https://github.com/Particular/NServiceBus/pull/5003) HandleCurrentMessageLater causes message loss when using Outbox

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/8010028/assets,https://api.github.com/repos/Particular/NServiceBus/releases/8010028,support-6.2,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.7,https://github.com/Particular/NServiceBus/releases/tag/6.2.7,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.7,6.2.7,False,False
7774990,2017-09-15T19:29:13Z,2017-09-15T21:00:58Z,5.2.24,"As part of this release [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=194&state=closed) was closed.


__Bugs__
- [__#4955__](https://github.com/Particular/NServiceBus/issues/4955) Lambda constructors added in version 5.2.23 break containers that select the greediest constructor

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7774990/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7774990,support-5.2,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.24,https://github.com/Particular/NServiceBus/releases/tag/5.2.24,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.24,5.2.24,False,False
7441051,2017-08-17T15:57:44Z,2017-08-18T12:35:52Z,6.4.0,"As part of this release there were [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=172&state=closed) closed.


__Improvements/Features__
- [__#4897__](https://github.com/Particular/NServiceBus/issues/4897) AutoSubscribe is slow due to non-concurrent subscription
- [__#4893__](https://github.com/Particular/NServiceBus/issues/4893) Installers cannot be disabled completely

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7441051/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7441051,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.4.0,https://github.com/Particular/NServiceBus/releases/tag/6.4.0,https://api.github.com/repos/Particular/NServiceBus/zipball/6.4.0,6.4.0,False,False
7403184,2017-08-15T16:45:29Z,2017-08-15T21:16:11Z,5.2.23,"As part of this release [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=192&state=closed) was closed.


__Bugs__
- [__#4916__](https://github.com/Particular/NServiceBus/issues/4916) TimeoutPersisterReceiver may not increment re-poll interval when timeouts are pushed

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7403184/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7403184,support-5.2,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.23,https://github.com/Particular/NServiceBus/releases/tag/5.2.23,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.23,5.2.23,False,False
7363698,2017-08-11T14:09:22Z,2017-08-11T16:22:44Z,6.1.10,"As part of this release [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=191&state=closed) was closed.


__Bugs__
- [__#4910__](https://github.com/Particular/NServiceBus/pull/4910) CustomFinder that starts a saga throws exception

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7363698/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7363698,support-6.1,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.10,https://github.com/Particular/NServiceBus/releases/tag/6.1.10,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.10,6.1.10,False,False
7363686,2017-08-11T14:06:28Z,2017-08-11T16:19:46Z,6.2.6,"As part of this release [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=190&state=closed) was closed.


__Bugs__
- [__#4909__](https://github.com/Particular/NServiceBus/pull/4909) CustomFinder that starts a saga throws exception

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7363686/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7363686,support-6.2,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.6,https://github.com/Particular/NServiceBus/releases/tag/6.2.6,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.6,6.2.6,False,False
7363672,2017-08-11T14:05:35Z,2017-08-11T16:17:55Z,6.3.6,"As part of this release [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=186&state=closed) was closed.


__Bugs__
- [__#4888__](https://github.com/Particular/NServiceBus/issues/4888) CustomFinder that starts a saga throws exception

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7363672/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7363672,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.6,https://github.com/Particular/NServiceBus/releases/tag/6.3.6,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.6,6.3.6,False,False
7361210,2017-08-11T12:50:21Z,2017-08-11T13:28:36Z,6.1.9,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=189&state=closed) being closed.


__Bugs__
- [__#4907__](https://github.com/Particular/NServiceBus/pull/4907) MessageType of interface events is incorrectly changed during outgoing processing

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7361210/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7361210,support-6.1,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.9,https://github.com/Particular/NServiceBus/releases/tag/6.1.9,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.9,6.1.9,False,False
7361202,2017-08-11T12:50:01Z,2017-08-11T13:25:30Z,6.2.5,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=188&state=closed) being closed.


__Bugs__
- [__#4906__](https://github.com/Particular/NServiceBus/pull/4906) MessageType of interface events is incorrectly changed during outgoing processing

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7361202/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7361202,support-6.2,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.5,https://github.com/Particular/NServiceBus/releases/tag/6.2.5,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.5,6.2.5,False,False
7361190,2017-08-11T12:49:18Z,2017-08-11T13:23:56Z,6.3.5,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=187&state=closed) being closed.


__Bugs__
- [__#4860__](https://github.com/Particular/NServiceBus/issues/4860) MessageType of interface events is incorrectly changed during outgoing processing

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/7361190/assets,https://api.github.com/repos/Particular/NServiceBus/releases/7361190,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.5,https://github.com/Particular/NServiceBus/releases/tag/6.3.5,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.5,6.3.5,False,False
6641285,2017-06-07T20:37:21Z,2017-06-07T22:40:30Z,6.3.4,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/6.3.3...6.3.4) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=185&state=closed) being closed.


__Bugs__
- [__#4792__](https://github.com/Particular/NServiceBus/issues/4792) Poison message in MSMQ fails to be sent to remote error queue and is retried indefinitely
- [__#4769__](https://github.com/Particular/NServiceBus/issues/4769) MSMQ requires error queue configuration for send-only endpoints

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6641285/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6641285,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.4,https://github.com/Particular/NServiceBus/releases/tag/6.3.4,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.4,6.3.4,False,False
6641175,2017-06-07T20:09:15Z,2017-06-07T22:31:13Z,6.2.4,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/6.2.3...6.2.4) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=184&state=closed) being closed.


__Bugs__
- [__#4790__](https://github.com/Particular/NServiceBus/pull/4790) Poison message in MSMQ fails to be sent to remote error queue and is retried indefinitely

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6641175/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6641175,support-6.2,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.4,https://github.com/Particular/NServiceBus/releases/tag/6.2.4,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.4,6.2.4,False,False
6640759,2017-06-07T20:09:02Z,2017-06-07T21:46:21Z,6.1.8,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/6.1.7...6.1.8) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=183&state=closed) being closed.


__Bugs__
- [__#4789__](https://github.com/Particular/NServiceBus/pull/4789) Poison message in MSMQ fails to be sent to remote error queue and is retried indefinitely

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6640759/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6640759,support-6.1,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.8,https://github.com/Particular/NServiceBus/releases/tag/6.1.8,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.8,6.1.8,False,False
6640714,2017-06-07T20:08:52Z,2017-06-07T21:38:27Z,6.0.10,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/6.0.9...6.0.10) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=182&state=closed) being closed.


__Bugs__
- [__#4788__](https://github.com/Particular/NServiceBus/pull/4788) Poison message in MSMQ fails to be sent to remote error queue and is retried indefinitely

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6640714/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6640714,support-6.0,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.10,https://github.com/Particular/NServiceBus/releases/tag/6.0.10,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.10,6.0.10,False,False
6640343,2017-06-07T20:08:26Z,2017-06-07T21:33:44Z,5.2.22,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/5.2.21...5.2.22) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=181&state=closed) being closed.


__Bugs__
- [__#4787__](https://github.com/Particular/NServiceBus/pull/4787) Poison message in MSMQ fails to be sent to remote error queue and is retried indefinitely

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6640343/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6640343,support-5.2,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.22,https://github.com/Particular/NServiceBus/releases/tag/5.2.22,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.22,5.2.22,False,False
6571698,2017-06-01T12:12:17Z,2017-06-01T13:09:14Z,6.1.7,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.1.6...6.1.7) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=180&state=closed) being closed.


__Bugs__
- [__#4776__](https://github.com/Particular/NServiceBus/pull/4776) Circular references causes the assembly scanner to crash 

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6571698/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6571698,support-6.1,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.7,https://github.com/Particular/NServiceBus/releases/tag/6.1.7,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.7,6.1.7,False,False
6571693,2017-06-01T12:13:00Z,2017-06-01T13:07:58Z,6.2.3,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.2.2...6.2.3) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=179&state=closed) being closed.


__Bugs__
- [__#4775__](https://github.com/Particular/NServiceBus/pull/4775) Circular references causes the assembly scanner to crash

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6571693/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6571693,support-6.2,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.3,https://github.com/Particular/NServiceBus/releases/tag/6.2.3,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.3,6.2.3,False,False
6571685,2017-06-01T10:40:18Z,2017-06-01T13:06:38Z,6.3.3,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.3.2...6.3.3).

__Bugs__
- [__#4771__](https://github.com/Particular/NServiceBus/pull/4771) Circular references causes the assembly scanner to crash 

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6571685/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6571685,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.3,https://github.com/Particular/NServiceBus/releases/tag/6.3.3,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.3,6.3.3,False,False
6548445,2017-05-30T18:06:28Z,2017-05-30T18:42:43Z,6.2.2,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.2.1...6.2.2) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=175&state=closed) being closed.


__Bugs__
- [__#4754__](https://github.com/Particular/NServiceBus/pull/4754) MessageMapper does not call default constructor

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6548445/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6548445,support-6.2,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.2,https://github.com/Particular/NServiceBus/releases/tag/6.2.2,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.2,6.2.2,False,False
6548408,2017-05-30T18:06:17Z,2017-05-30T18:41:28Z,6.1.6,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.1.5...6.1.6) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=176&state=closed) being closed.


__Bugs__
- [__#4755__](https://github.com/Particular/NServiceBus/pull/4755) MessageMapper does not call default constructor

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6548408/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6548408,support-6.1,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.6,https://github.com/Particular/NServiceBus/releases/tag/6.1.6,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.6,6.1.6,False,False
6548358,2017-05-30T18:06:04Z,2017-05-30T18:40:14Z,6.0.9,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.0.8...6.0.9) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=177&state=closed) being closed.


__Bugs__
- [__#4756__](https://github.com/Particular/NServiceBus/pull/4756) MessageMapper does not call default constructor

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6548358/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6548358,support-6.0,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.9,https://github.com/Particular/NServiceBus/releases/tag/6.0.9,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.9,6.0.9,False,False
6548282,2017-05-30T06:29:45Z,2017-05-30T18:43:58Z,6.3.2,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.3.1...6.3.2) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=174&state=closed) being closed.


__Bugs__
- [__#4750__](https://github.com/Particular/NServiceBus/issues/4750) MessageMapper does not call default constructor

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6548282/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6548282,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.2,https://github.com/Particular/NServiceBus/releases/tag/6.3.2,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.2,6.3.2,False,False
6445113,2017-05-19T16:06:00Z,2017-05-19T16:47:45Z,6.3.1,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/6.3.0...6.3.1) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=173&state=closed) being closed.


__Bugs__
- [__#4724__](https://github.com/Particular/NServiceBus/issues/4724) Learning transport dispatch can fail to dispatch multiple messages
- [__#4720__](https://github.com/Particular/NServiceBus/issues/4720) Learning transport can deadlock under load

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6445113/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6445113,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.1,https://github.com/Particular/NServiceBus/releases/tag/6.3.1,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.1,6.3.1,False,False
6429470,2017-05-18T12:26:40Z,2017-05-19T07:13:23Z,6.3.0,"As part of this release we had [160 commits](https://github.com/Particular/NServiceBus/compare/6.2.1...6.3.0) which resulted in [12 issues](https://github.com/Particular/NServiceBus/issues?milestone=166&state=closed) being closed.


__Bugs__
- [__#4708__](https://github.com/Particular/NServiceBus/issues/4708) Incorrect API documentation for TimeToWaitBeforeTriggeringCriticalErrorOnTimeoutOutages
- [__#4706__](https://github.com/Particular/NServiceBus/issues/4706) Exception incorrectly guides people to use MessageEndpointMappings  
- [__#4666__](https://github.com/Particular/NServiceBus/pull/4666) User defined conversation id's are overwritten
- [__#4657__](https://github.com/Particular/NServiceBus/issues/4657) API documentation for FeatureStartupTask.OnStop is incorrect
- [__#4633__](https://github.com/Particular/NServiceBus/issues/4633) Assembly scanning exclusion does not work with 'exe' file extension
- [__#4598__](https://github.com/Particular/NServiceBus/issues/4598) ILMerged/Costura seems to prevent pipeline from building
- [__#4567__](https://github.com/Particular/NServiceBus/issues/4567) Inherited interface messages won't process if conventions is used and handler only exists for base message

__Improvements/Features__
- [__#4664__](https://github.com/Particular/NServiceBus/issues/4664) Limit message size on the learning transport to Min(SupportedTransports)
- [__#4508__](https://github.com/Particular/NServiceBus/issues/4508) Log ERROR instead of WARN of TimeToBeReceivedOnForwardedMessages is used
- [__#4496__](https://github.com/Particular/NServiceBus/pull/4496) Introduce a zero install saga persister for learning and demos
- [__#4278__](https://github.com/Particular/NServiceBus/issues/4278) Introduce a zero install transport for learning and demos
- [__#3647__](https://github.com/Particular/NServiceBus/issues/3647) Default error queue address to ""error""

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6429470/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6429470,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.3.0,https://github.com/Particular/NServiceBus/releases/tag/6.3.0,https://api.github.com/repos/Particular/NServiceBus/zipball/6.3.0,6.3.0,False,False
6064933,2017-04-12T18:39:17Z,2017-04-12T20:22:25Z,6.2.1,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/6.2.0...6.2.1) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=169&state=closed) being closed.


__Bugs__
- [__#4613__](https://github.com/Particular/NServiceBus/issues/4613) MessageID is reused when reusing SendOptions

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6064933/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6064933,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.1,https://github.com/Particular/NServiceBus/releases/tag/6.2.1,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.1,6.2.1,False,False
6064878,2017-04-12T19:13:27Z,2017-04-12T20:17:11Z,6.1.5,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/6.1.4...6.1.5) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=171&state=closed) being closed.


__Bugs__
- [__#4617__](https://github.com/Particular/NServiceBus/pull/4617) MessageID is reused when reusing SendOptions

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6064878/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6064878,support-6.1,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.5,https://github.com/Particular/NServiceBus/releases/tag/6.1.5,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.5,6.1.5,False,False
6064594,2017-04-12T19:13:18Z,2017-04-12T20:14:01Z,6.0.8,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/6.0.7...6.0.8) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=170&state=closed) being closed.


__Bugs__
- [__#4616__](https://github.com/Particular/NServiceBus/pull/4616) MessageID is reused when reusing SendOptions

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/6064594/assets,https://api.github.com/repos/Particular/NServiceBus/releases/6064594,support-6.0,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.8,https://github.com/Particular/NServiceBus/releases/tag/6.0.8,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.8,6.0.8,False,False
5899806,2017-03-28T19:17:20Z,2017-03-28T22:39:10Z,6.2.0,"As part of this release we had [26 issues](https://github.com/Particular/NServiceBus/issues?milestone=160&state=closed) being closed.


__Bugs__
- [__#4558__](https://github.com/Particular/NServiceBus/pull/4558) Incorrect log level for FATAL
- [__#4547__](https://github.com/Particular/NServiceBus/issues/4547) Inconsistency between DataBusProperty.HasValue and DataBusProperty.Value
- [__#4473__](https://github.com/Particular/NServiceBus/issues/4473) RouteToThisEndpoint bypasses Sender Side Distribution

__Improvements/Features__

- [__#4517__](https://github.com/Particular/NServiceBus/issues/4517) MSMQ: When configuring a remote error queue, log shows a misleading warning
- [__#4485__](https://github.com/Particular/NServiceBus/pull/4485) Allow AppDomain assemblies to be scanned
- [__#4479__](https://github.com/Particular/NServiceBus/pull/4479) Unrecoverable exceptions
- [__#4478__](https://github.com/Particular/NServiceBus/issues/4478) Mutator registration API
- [__#4461__](https://github.com/Particular/NServiceBus/pull/4461) Context-aware distribution strategy
- [__#4429__](https://github.com/Particular/NServiceBus/pull/4429) Skip weaving the timeoutPollerTask
- [__#4422__](https://github.com/Particular/NServiceBus/issues/4422) Do not force persistence to be configured if not required
- [__#4410__](https://github.com/Particular/NServiceBus/issues/4410) PurgeOnStartup does not write any log event that it is performing a purge operation
- [__#4390__](https://github.com/Particular/NServiceBus/pull/4390) InMemorySagaPerister allocates less for saga with fields of simple types.
- [__#4322__](https://github.com/Particular/NServiceBus/issues/4322) make ActiveSagaInstance mock-able
- [__#4260__](https://github.com/Particular/NServiceBus/issues/4260) Default MSMQ deadletter flag to OFF for messages with a TTBR
- [__#4183__](https://github.com/Particular/NServiceBus/issues/4183) Remove double opt-in for the Outbox

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/5899806/assets,https://api.github.com/repos/Particular/NServiceBus/releases/5899806,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.2.0,https://github.com/Particular/NServiceBus/releases/tag/6.2.0,https://api.github.com/repos/Particular/NServiceBus/zipball/6.2.0,6.2.0,False,False
5856379,2017-03-24T08:41:31Z,2017-03-24T10:08:21Z,6.1.4,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=168&state=closed) being closed.


__Improvements/Features__
- [__#4574__](https://github.com/Particular/NServiceBus/pull/4574) Publish|Reply|Unsubscribe|SubscribeOptions merges into parent context

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/5856379/assets,https://api.github.com/repos/Particular/NServiceBus/releases/5856379,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.4,https://github.com/Particular/NServiceBus/releases/tag/6.1.4,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.4,6.1.4,False,False
5856372,2017-03-24T08:51:52Z,2017-03-24T10:06:46Z,6.0.7,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=167&state=closed) being closed.


__Improvements/Features__
- [__#4575__](https://github.com/Particular/NServiceBus/pull/4575) Publish|Reply|Unsubscribe|SubscribeOptions merges into parent context

## Where to get it
You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/5856372/assets,https://api.github.com/repos/Particular/NServiceBus/releases/5856372,support-6.0,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.7,https://github.com/Particular/NServiceBus/releases/tag/6.0.7,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.7,6.0.7,False,False
5453339,2017-02-14T14:09:20Z,2017-02-14T17:11:32Z,6.1.3,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/6.1.2...6.1.3) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=165&state=closed) being closed.

**Bugs**
- [**#4463**](https://github.com/Particular/NServiceBus/issues/4463) Mutators registered in a feature are not invoked
- [**#4480**](https://github.com/Particular/NServiceBus/issues/4480) IManageUnitsOfWork registered in a feature are not invoked

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/5453339/assets,https://api.github.com/repos/Particular/NServiceBus/releases/5453339,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.3,https://github.com/Particular/NServiceBus/releases/tag/6.1.3,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.3,6.1.3,False,False
5186412,2017-01-17T18:43:54Z,2017-01-17T20:42:13Z,6.0.6,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/6.0.5...6.0.6) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=164&state=closed) being closed.

**Bugs**
- [**#4427**](https://github.com/Particular/NServiceBus/issues/4427) Immediate retries counter not incremented for exceptions during commit/dispose

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/5186412/assets,https://api.github.com/repos/Particular/NServiceBus/releases/5186412,support-6.0,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.6,https://github.com/Particular/NServiceBus/releases/tag/6.0.6,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.6,6.0.6,False,False
5186148,2017-01-17T18:42:31Z,2017-01-17T20:33:53Z,6.1.2,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/6.1.1...6.1.2) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=163&state=closed) being closed.

**Bugs**
- [**#4426**](https://github.com/Particular/NServiceBus/issues/4426) Immediate retries counter not incremented for exceptions during commit/dispose

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/5186148/assets,https://api.github.com/repos/Particular/NServiceBus/releases/5186148,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.2,https://github.com/Particular/NServiceBus/releases/tag/6.1.2,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.2,6.1.2,False,False
4941314,2016-12-16T12:21:34Z,2016-12-16T14:56:57Z,6.0.5,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.0.4...6.0.5) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=161&state=closed) being closed.

**Bugs**
- [**#4401**](https://github.com/Particular/NServiceBus/pull/4401) Reuse of incoming message as saga timeout message causes duplicate handler invocations

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4941314/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4941314,support-6.0,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.5,https://github.com/Particular/NServiceBus/releases/tag/6.0.5,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.5,6.0.5,False,False
4939922,2016-12-16T08:16:35Z,2016-12-16T14:58:28Z,6.1.1,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/6.1.0...6.1.1) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=162&state=closed) being closed.

**Bugs**
- [**#4399**](https://github.com/Particular/NServiceBus/pull/4399) Reuse of incoming message as saga timeout message causes duplicate handler invocations

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4939922/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4939922,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.1,https://github.com/Particular/NServiceBus/releases/tag/6.1.1,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.1,6.1.1,False,False
4894051,2016-12-12T12:49:55Z,2016-12-13T08:12:29Z,6.1.0,"As part of this release we had [145 commits](https://github.com/Particular/NServiceBus/compare/6.0.4...6.1.0) which resulted in [45 issues](https://github.com/Particular/NServiceBus/issues?milestone=147&state=closed) being closed.

**Bugs**
- [**#4367**](https://github.com/Particular/NServiceBus/pull/4367) Preserve DateTimeOffset timezone information when deserializing
- [**#4332**](https://github.com/Particular/NServiceBus/issues/4332) Endpoint stop can fail which leaves the running endpoint instance in an intermediate state
- [**#4323**](https://github.com/Particular/NServiceBus/issues/4323) Failure to set MSMQ permissions is suppressed
- [**#4304**](https://github.com/Particular/NServiceBus/pull/4304) Anonymous permissions added to existing MSMQ queues
- [**#4221**](https://github.com/Particular/NServiceBus/issues/4221) SatelliteReceiver required transport transaction mode isn't validated against supported modes
- [**#4214**](https://github.com/Particular/NServiceBus/issues/4214) Subsequent instances of IProvideConfiguration for same configuration section are silently ignored
- [**#4213**](https://github.com/Particular/NServiceBus/issues/4213) New satellite configuration code ignores provided `PushRuntimeSettings`
- [**#4163**](https://github.com/Particular/NServiceBus/issues/4163) Using TTBR with MSMQ in transaction mode ReceiveOnly fails in V6
- [**#4158**](https://github.com/Particular/NServiceBus/issues/4158) In Memory saga persistence degrades very fast over time
- [**#3699**](https://github.com/Particular/NServiceBus/issues/3699) Incorrect message processing time on server clock drift
- [**#3562**](https://github.com/Particular/NServiceBus/issues/3562) Msmq enlists outgoing operations in receive transaction when `TransportTransactionMode.ReceiveOnly` is specified

**Improvements/Features**
- [**#4364**](https://github.com/Particular/NServiceBus/pull/4364) Throw exception when resolving custom pipelines
- [**#4280**](https://github.com/Particular/NServiceBus/pull/4280) Report first-time install metric to Particular when a user installs NServiceBus
- [**#4276**](https://github.com/Particular/NServiceBus/issues/4276) Make ScheduledTask public
- [**#4264**](https://github.com/Particular/NServiceBus/issues/4264) TimeoutManager concurrency configuration
- [**#4238**](https://github.com/Particular/NServiceBus/issues/4238) DisableLegacyRetriesSatellite shouldn't have obsolete attribute yet
- [**#4235**](https://github.com/Particular/NServiceBus/issues/4235) init.ps1 freezing with VS2015
- [**#4230**](https://github.com/Particular/NServiceBus/issues/4230) Improve missing performance counters error message 
- [**#4195**](https://github.com/Particular/NServiceBus/pull/4195) CombGuid now using DateTime.UtcNow to resolve DST ordering issues
- [**#4193**](https://github.com/Particular/NServiceBus/pull/4193) Avoid allocating a complete copy of the message on every failure unless it is necessary
- [**#4170**](https://github.com/Particular/NServiceBus/issues/4170) Obsolete SendOptions.SetCorrelationId() with WARN
- [**#4146**](https://github.com/Particular/NServiceBus/pull/4146) Licensing wording for better clarity
- [**#1939**](https://github.com/Particular/NServiceBus/issues/1939) Better error message for overlapping endpoint mappings

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4894051/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4894051,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.1.0,https://github.com/Particular/NServiceBus/releases/tag/6.1.0,https://api.github.com/repos/Particular/NServiceBus/zipball/6.1.0,6.1.0,False,False
4837878,2016-12-05T19:25:00Z,2016-12-05T21:20:26Z,6.0.4,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/6.0.3...6.0.4) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=159&state=closed) being closed.

**Critical Bugs**
- [**#4379**](https://github.com/Particular/NServiceBus/pull/4379) DateTimeOffset timezone information incorrectly deserialized when using JsonSerializer resulting in corruption

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4837878/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4837878,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.4,https://github.com/Particular/NServiceBus/releases/tag/6.0.4,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.4,6.0.4,False,False
4837853,2016-12-05T19:22:44Z,2016-12-05T21:18:26Z,5.2.21,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/5.2.20...5.2.21) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=158&state=closed) being closed.

**Critical Bugs**
- [**#4374**](https://github.com/Particular/NServiceBus/pull/4374) DateTimeOffset timezone information incorrectly deserialized when using JsonSerializer resulting in corruption

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4837853/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4837853,support-5.2,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.21,https://github.com/Particular/NServiceBus/releases/tag/5.2.21,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.21,5.2.21,False,False
4817293,2016-12-02T13:44:48Z,2016-12-02T15:01:28Z,5.2.20,"As part of this release we had [7 commits](https://github.com/Particular/NServiceBus/compare/5.2.19...5.2.20) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=157&state=closed) being closed.

**Bugs**
- [**#4371**](https://github.com/Particular/NServiceBus/pull/4371) Don't change MSMQ permissions on existing queues

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4817293/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4817293,support-5.2,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.20,https://github.com/Particular/NServiceBus/releases/tag/5.2.20,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.20,5.2.20,False,False
4816462,2016-12-02T09:03:00Z,2016-12-02T13:29:44Z,6.0.3,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/6.0.2...6.0.3) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=156&state=closed) being closed.

**Bugs**
- [**#4366**](https://github.com/Particular/NServiceBus/pull/4366) Don't change MSMQ permissions on existing queues

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4816462/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4816462,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.3,https://github.com/Particular/NServiceBus/releases/tag/6.0.3,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.3,6.0.3,False,False
4783003,2016-11-29T10:50:27Z,2016-11-29T12:55:45Z,6.0.2,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=155&state=closed) closed.

**Bugs**
- [**#4343**](https://github.com/Particular/NServiceBus/pull/4343) Msmq subscriptions are not persisted when transactional queues are in use

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4783003/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4783003,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.2,https://github.com/Particular/NServiceBus/releases/tag/6.0.2,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.2,6.0.2,False,False
4782835,2016-11-29T10:50:27Z,2016-11-29T12:53:46Z,6.0.1,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/6.0.0...6.0.1) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=154&state=closed) being closed.

**Bugs**
- [**#4338**](https://github.com/Particular/NServiceBus/issues/4338) When enlisted with distributor `SendLocal` sends a message back to the worker's queue
- [**#4325**](https://github.com/Particular/NServiceBus/issues/4325) Worker does not send a ""ready"" message when processed message is retried or moved to the error queue

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4782835/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4782835,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.1,https://github.com/Particular/NServiceBus/releases/tag/6.0.1,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.1,6.0.1,False,False
4370931,2016-10-12T15:31:11Z,2016-10-12T17:17:10Z,5.2.19,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/5.2.18...5.2.19) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=152&state=closed) being closed.

**Bugs**
- [**#4215**](https://github.com/Particular/NServiceBus/issues/4215) MsmqUnitOfWork doesn't clear transactions correctly

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4370931/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4370931,support-5.2,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.19,https://github.com/Particular/NServiceBus/releases/tag/5.2.19,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.19,5.2.19,False,False
4347005,2016-10-07T16:06:39Z,2016-10-10T10:40:30Z,5.2.18,"As part of this release we had [7 commits](https://github.com/Particular/NServiceBus/compare/5.2.17...5.2.18) which resulted in [2 issues](https://github.com/Particular/NServiceBus/milestone/150) being closed.

**Bugs**
- [**#4188**](https://github.com/Particular/NServiceBus/pull/4188) MSMQ with Native transaction deadlocks when the MSMQ service is stopped or restarted

**Improvements**
- [**#3251**](https://github.com/Particular/NServiceBus/issues/3251) Thread created for each message received due to not making use of threadpool with MSMQ transport

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/timbussmann,3524870,timbussmann,https://api.github.com/repos/Particular/NServiceBus/releases/4347005/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4347005,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.18,https://github.com/Particular/NServiceBus/releases/tag/5.2.18,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.18,5.2.18,False,False
4331245,2016-10-05T13:50:03Z,2016-10-11T12:52:53Z,6.0.0,"Version 6 brings async/await, a new handler context and major performance improvements to NServiceBus. 

Read more about all new features on the [version 6 page](http://particular.net/nservicebus-v6).

### Upgrading from earlier versions?

Take a look at the [Version 5 to Version 6 upgrade guide](https://docs.particular.net/nservicebus/upgrades/5to6/)

### Want to see all the nitty gritty changes?

They are all on the [v6 milestone](https://github.com/Particular/NServiceBus/milestone/62?closed=1)

### What are the API breaking changes?

Here's the [API Comparer diff](http://apicomparer.particular.net/compare/NServiceBus/5...6.0.0)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4331245/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4331245,master,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.0,https://github.com/Particular/NServiceBus/releases/tag/6.0.0,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.0,6.0.0,False,False
4300800,2016-10-04T12:48:49Z,2016-10-05T09:55:35Z,5.2.17,"As part of this release we had [6 commits](https://github.com/Particular/NServiceBus/compare/5.2.16...5.2.17) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=149&state=closed) being closed.

**Bugs**
- [**#4182**](https://github.com/Particular/NServiceBus/pull/4182) InMemory saga persister creates duplicate saga instances
- [**#4177**](https://github.com/Particular/NServiceBus/pull/4177) Remove subscription versioning for MSMQ and InMemory subscriptions

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4300800/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4300800,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.17,https://github.com/Particular/NServiceBus/releases/tag/5.2.17,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.17,5.2.17,False,False
4260556,2016-09-28T17:42:33Z,2016-09-29T07:31:40Z,6.0.0-rc3,"As part of this release we had [30 commits](https://github.com/Particular/NServiceBus/compare/6.0.0-RC2...6.0.0-rc3) that closed [5 issues](https://github.com/Particular/NServiceBus/issues?milestone=148&state=closed) closed.

**Bugs**
- [**#4172**](https://github.com/Particular/NServiceBus/pull/4172) Remove subscription versioning for MSMQ and InMemory subscriptions
- [**#4165**](https://github.com/Particular/NServiceBus/issues/4165) Performance counters should be named according to logical address
- [**#4149**](https://github.com/Particular/NServiceBus/pull/4149) InMemory saga persister creates duplicate saga instances
- [**#4133**](https://github.com/Particular/NServiceBus/pull/4133) Only map message properties and fields for interface messages
- [**#4132**](https://github.com/Particular/NServiceBus/issues/4132) MSMQ Subscription Storage does not update subscriptions

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4260556/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4260556,release-6.0.0,https://api.github.com/repos/Particular/NServiceBus/tarball/6.0.0-rc3,https://github.com/Particular/NServiceBus/releases/tag/6.0.0-rc3,https://api.github.com/repos/Particular/NServiceBus/zipball/6.0.0-rc3,6.0.0-rc3,False,True
4089850,2016-09-09T11:37:57Z,2016-09-09T13:02:04Z,5.2.16,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/5.2.15...5.2.16) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=146&state=closed) being closed.

**Bug**
- [**#2722**](https://github.com/Particular/NServiceBus/issues/2722) FileLoadException.FileName can be null

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/4089850/assets,https://api.github.com/repos/Particular/NServiceBus/releases/4089850,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.16,https://github.com/Particular/NServiceBus/releases/tag/5.2.16,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.16,5.2.16,False,False
3888236,2016-08-15T13:02:35Z,2016-08-17T18:09:37Z,5.2.15,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.2.14...5.2.15) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=143&state=closed) being closed.

**Bug**
- [**#4015**](https://github.com/Particular/NServiceBus/issues/4015) When ingesting timeouts, TimeoutPersisterReceiver queries in tight loop

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/3888236/assets,https://api.github.com/repos/Particular/NServiceBus/releases/3888236,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.15,https://github.com/Particular/NServiceBus/releases/tag/5.2.15,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.15,5.2.15,False,False
2510427,2016-01-28T16:39:52Z,2016-01-28T17:51:51Z,4.7.12,"As part of this release we had [1678 commits](https://github.com/Particular/NServiceBus/compare/4.7.11...4.7.12) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=142&state=closed) being closed.

**Bug**
- [**#3380**](https://github.com/Particular/NServiceBus/pull/3380) Moving messages with MSMQ to the error queue with `TimeToBeReceived` causes the endpoint to shutdown

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2510427/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2510427,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.12,https://github.com/Particular/NServiceBus/releases/tag/4.7.12,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.12,4.7.12,False,False
2509763,2016-01-28T15:51:18Z,2016-01-28T16:26:54Z,5.0.11,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.0.10...5.0.11) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=141&state=closed) being closed.

**Bug**
- [**#3378**](https://github.com/Particular/NServiceBus/pull/3378) Moving messages with MSMQ to the error queue with `TimeToBeReceived` causes the endpoint to shutdown

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2509763/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2509763,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.11,https://github.com/Particular/NServiceBus/releases/tag/5.0.11,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.11,5.0.11,False,False
2509369,2016-01-28T14:45:53Z,2016-01-28T15:46:47Z,5.1.9,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.1.8...5.1.9) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=140&state=closed) being closed.

**Bug**
- [**#3376**](https://github.com/Particular/NServiceBus/pull/3376) Moving messages with MSMQ to the error queue with `TimeToBeReceived` causes the endpoint to shutdown

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2509369/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2509369,support-5.1,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.9,https://github.com/Particular/NServiceBus/releases/tag/5.1.9,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.9,5.1.9,False,False
2508020,2016-03-04T14:47:50Z,2016-01-28T12:12:24Z,5.2.14,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.2.13...5.2.14) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=137&state=closed) being closed.

**Bug**
- [**#3371**](https://github.com/Particular/NServiceBus/pull/3371) Moving messages with MSMQ to the error queue with `TimeToBeReceived` causes the endpoint to shutdown

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2508020/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2508020,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.14,https://github.com/Particular/NServiceBus/releases/tag/5.2.14,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.14,5.2.14,False,False
2506738,2016-01-27T14:59:47Z,2016-01-28T08:44:11Z,5.1.8,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.1.7...5.1.8).

### Bugs
- [**#3350**](https://github.com/Particular/NServiceBus/issues/3350) TimeToBeReceived original value is lost when Outbox is enabled

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2506738/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2506738,support-5.1,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.8,https://github.com/Particular/NServiceBus/releases/tag/5.1.8,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.8,5.1.8,False,False
2504371,2016-01-27T14:18:39Z,2016-01-28T08:46:25Z,5.0.10,"As part of this release we had [381 commits](https://github.com/Particular/NServiceBus/compare/5.0.9...5.0.10).

### Bugs
- [**#3350**](https://github.com/Particular/NServiceBus/issues/3350) TimeToBeReceived original value is lost when Outbox is enabled

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2504371/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2504371,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.10,https://github.com/Particular/NServiceBus/releases/tag/5.0.10,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.10,5.0.10,False,False
2499965,2016-01-27T09:16:29Z,2016-01-27T10:59:48Z,5.2.13,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.2.12...5.2.13).

## Bugs
- [**#3350**](https://github.com/Particular/NServiceBus/issues/3350) TimeToBeReceived original value is lost when Outbox is enabled

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2499965/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2499965,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.13,https://github.com/Particular/NServiceBus/releases/tag/5.2.13,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.13,5.2.13,False,False
2281506,2015-12-14T04:26:40Z,2015-12-14T06:34:27Z,4.7.11,"As part of this release we had [1672 commits](https://github.com/Particular/NServiceBus/compare/4.7.10...4.7.11) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=134&state=closed) being closed.

**Bug**
- [**#3213**](https://github.com/Particular/NServiceBus/issues/3213) Subscription Authorization (IAuthorizeSubscriptions) incorrectly resolves to no-op implementation 

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2281506/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2281506,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.11,https://github.com/Particular/NServiceBus/releases/tag/4.7.11,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.11,4.7.11,False,False
2280771,2015-12-13T23:05:41Z,2015-12-14T00:03:26Z,5.2.12,"As part of this release we had [8 commits](https://github.com/Particular/NServiceBus/compare/5.2.11...5.2.12) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=133&state=closed) being closed.

**Bug**
- [**#3113**](https://github.com/Particular/NServiceBus/issues/3113) Subscription Authorization (IAuthorizeSubscriptions) incorrectly resolves to no-op implementation 

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2280771/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2280771,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.12,https://github.com/Particular/NServiceBus/releases/tag/5.2.12,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.12,5.2.12,False,False
2245159,2015-12-03T22:50:41Z,2015-12-08T10:10:04Z,5.2.11,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/5.2.10...5.2.11) which resulted in [2 issue](https://github.com/Particular/NServiceBus/issues?milestone=128&state=closed) being closed.

### Bug
- [**#3091**](https://github.com/Particular/NServiceBus/pull/3134) Race condition in RijndaelEncryptionService can result in unhandled exception
- [**#3119**](https://github.com/Particular/NServiceBus/pull/3119) RijndaelEncryptionService sets the outgoing headers globally, applying it to messages without encrypted properties as well

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2245159/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2245159,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.11,https://github.com/Particular/NServiceBus/releases/tag/5.2.11,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.11,5.2.11,False,False
2244950,2015-12-03T20:52:46Z,2015-12-08T10:01:30Z,5.1.7,"As part of this release we had [1commits](https://github.com/Particular/NServiceBus/compare/5.1.6...5.1.7) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=132&state=closed) being closed.

### Bug
- [**#3091**](https://github.com/Particular/NServiceBus/pull/3091) Race condition in RijndaelEncryptionService can result in unhandled exception

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2244950/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2244950,support-5.1,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.7,https://github.com/Particular/NServiceBus/releases/tag/5.1.7,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.7,5.1.7,False,False
2244436,2015-12-03T20:46:51Z,2015-12-08T09:52:52Z,5.0.9,"As part of this release we had [1 commits](https://github.com/Particular/NServiceBus/compare/5.0.8...5.0.9) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=131&state=closed) being closed.

### Bug
- [**#3091**](https://github.com/Particular/NServiceBus/pull/3091) Race condition in RijndaelEncryptionService can result in unhandled exception

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2244436/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2244436,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.9,https://github.com/Particular/NServiceBus/releases/tag/5.0.9,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.9,5.0.9,False,False
2233401,2015-12-03T18:01:18Z,2015-12-08T09:40:11Z,4.7.10,"As part of this release we had [1 commits](https://github.com/Particular/NServiceBus/compare/4.7.9...4.7.10) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=130&state=closed) being closed.

### Bug
- [**#3091**](https://github.com/Particular/NServiceBus/pull/3091) Race condition in RijndaelEncryptionService can result in unhandled exception

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2233401/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2233401,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.10,https://github.com/Particular/NServiceBus/releases/tag/4.7.10,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.10,4.7.10,False,False
2232236,2015-12-03T18:00:39Z,2015-12-08T09:37:13Z,3.3.18,"As part of this release we had [1 commits](https://github.com/Particular/NServiceBus/compare/3.3.17...3.3.18) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=129&state=closed) being closed.

### Bug
- [**#3091**](https://github.com/Particular/NServiceBus/pull/3091)  Race condition in RijndaelEncryptionService can result in unhandled exception.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2232236/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2232236,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.18,https://github.com/Particular/NServiceBus/releases/tag/3.3.18,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.18,3.3.18,False,False
2158862,2015-11-19T12:25:32Z,2015-11-20T11:14:21Z,4.7.9,"As part of this release we closed [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=127&state=closed).

**Bug**
- [**#3094**](https://github.com/Particular/NServiceBus/issues/3094) Possible message loss with TimeToBeReceived on transactional MSMQ endpoints.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2158862/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2158862,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.9,https://github.com/Particular/NServiceBus/releases/tag/4.7.9,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.9,4.7.9,False,False
2158842,2015-11-19T12:48:50Z,2015-11-20T11:18:47Z,5.1.6,"As part of this release we closed [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=125&state=closed).

**Bug**
- [**#3092**](https://github.com/Particular/NServiceBus/issues/3092) Possible message loss with TimeToBeReceived on transactional MSMQ endpoints.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2158842/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2158842,support-5.1,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.6,https://github.com/Particular/NServiceBus/releases/tag/5.1.6,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.6,5.1.6,False,False
2158786,2015-11-19T18:56:43Z,2015-11-20T11:19:32Z,5.2.10,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?q=milestone%3A5.2.10) closed.

### Bug
- [**#3090**](https://github.com/Particular/NServiceBus/issues/3090) Possible message loss with TimeToBeReceived on transactional MSMQ endpoints.

### Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus/5.2.10)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2158786/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2158786,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.10,https://github.com/Particular/NServiceBus/releases/tag/5.2.10,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.10,5.2.10,False,False
2153043,2015-11-19T12:47:38Z,2015-11-20T11:17:36Z,5.0.8,"As part of this release we closed [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=126&state=closed).

**Bug**
- [**#3093**](https://github.com/Particular/NServiceBus/issues/3093) Possible message loss with TimeToBeReceived on transactional MSMQ endpoints.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2153043/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2153043,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.8,https://github.com/Particular/NServiceBus/releases/tag/5.0.8,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.8,5.0.8,False,False
2000951,2015-10-21T20:15:08Z,2015-10-22T09:57:38Z,5.2.9,"As part of this release we had [10 commits](https://github.com/Particular/NServiceBus/compare/5.2.8...5.2.9) which resulted in [4 issues](https://github.com/Particular/NServiceBus/issues?milestone=118&state=closed) being closed.

**Bugs**
- [**#3017**](https://github.com/Particular/NServiceBus/issues/3017) Possibility of data corruption when utilizing multiple encryption keys.
- [**#3018**](https://github.com/Particular/NServiceBus/issues/3018) Encryption key similarity checks can cause false positives.
- [**#2994**](https://github.com/Particular/NServiceBus/issues/2994) Circuitbreaker for timeout storage connectivity is using the wrong default.
- [**#3019**](https://github.com/Particular/NServiceBus/issues/3019) Harden encryption key security by allowing full byte range.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2000951/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2000951,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.9,https://github.com/Particular/NServiceBus/releases/tag/5.2.9,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.9,5.2.9,False,False
2000555,2015-10-21T20:14:03Z,2015-10-22T09:54:41Z,5.1.5,"As part of this release we had [7 commits](https://github.com/Particular/NServiceBus/compare/5.1.4...5.1.5) which resulted in [4 issues](https://github.com/Particular/NServiceBus/issues?milestone=119&state=closed) being closed.

**Bugs**
- [**#3017**](https://github.com/Particular/NServiceBus/issues/3017) Possibility of data corruption when utilizing multiple encryption keys.
- [**#3018**](https://github.com/Particular/NServiceBus/issues/3018) Encryption key similarity checks can cause false positives.
- [**#2994**](https://github.com/Particular/NServiceBus/issues/2994) Circuitbreaker for timeout storage connectivity is using the wrong default.
- [**#3019**](https://github.com/Particular/NServiceBus/issues/3019) Harden encryption key security by allowing full byte range.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2000555/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2000555,support-5.1,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.5,https://github.com/Particular/NServiceBus/releases/tag/5.1.5,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.5,5.1.5,False,False
2000407,2015-10-21T20:13:16Z,2015-10-22T09:52:50Z,5.0.7,"As part of this release we had [5 commits](https://github.com/Particular/NServiceBus/compare/5.0.6...5.0.7) which resulted in [3 issues](https://github.com/Particular/NServiceBus/issues?milestone=120&state=closed) being closed.

**Bug**
- [**#3017**](https://github.com/Particular/NServiceBus/issues/3017) Possibility of data corruption when utilizing multiple encryption keys.
- [**#3018**](https://github.com/Particular/NServiceBus/issues/3018) Encryption key similarity checks can cause false positives.
- [**#3019**](https://github.com/Particular/NServiceBus/issues/3019) Harden encryption key security by allowing full byte range.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/2000407/assets,https://api.github.com/repos/Particular/NServiceBus/releases/2000407,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.7,https://github.com/Particular/NServiceBus/releases/tag/5.0.7,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.7,5.0.7,False,False
1998408,2015-10-21T18:26:05Z,2015-10-22T09:50:48Z,4.7.8,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/4.7.7...4.7.8) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=121&state=closed) being closed.

**Bug**
- [**#3017**](https://github.com/Particular/NServiceBus/issues/3017) Possibility of data corruption when utilizing multiple encryption keys.
- [**#3018**](https://github.com/Particular/NServiceBus/issues/3018) Encryption key similarity checks can cause false positives.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1998408/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1998408,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.8,https://github.com/Particular/NServiceBus/releases/tag/4.7.8,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.8,4.7.8,False,False
1998179,2015-10-21T18:23:46Z,2015-10-22T09:47:48Z,3.3.17,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/3.3.16...3.3.17) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=123&state=closed) being closed.

**Bug**
- [**#3017**](https://github.com/Particular/NServiceBus/issues/3017) Possibility of data corruption when utilizing multiple encryption keys.
- [**#3018**](https://github.com/Particular/NServiceBus/issues/3018) Encryption key similarity checks can cause false positives.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1998179/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1998179,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.17,https://github.com/Particular/NServiceBus/releases/tag/3.3.17,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.17,3.3.17,False,False
1970647,2015-10-16T07:13:40Z,2015-10-16T09:15:33Z,3.3.16,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=122&state=closed) closed.

**Bug**
- [**#3009**](https://github.com/Particular/NServiceBus/pull/3009) prevent timeout message loss when not using DTC

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1970647/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1970647,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.16,https://github.com/Particular/NServiceBus/releases/tag/3.3.16,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.16,3.3.16,False,False
1929777,2015-10-08T09:51:41Z,2015-10-15T19:34:06Z,4.7.7,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=115&state=closed) closed.

**Bug**
- [**#2957**](https://github.com/Particular/NServiceBus/pull/2957) prevent timeout message loss when not using DTC

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1929777/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1929777,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.7,https://github.com/Particular/NServiceBus/releases/tag/4.7.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.7,4.7.7,False,False
1929092,2015-10-08T08:11:17Z,2015-10-15T19:40:14Z,5.2.8,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=117&state=closed) closed.

**Bug**
- [**#2970**](https://github.com/Particular/NServiceBus/pull/2970) prevent timeout message loss when not using DTC

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1929092/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1929092,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.8,https://github.com/Particular/NServiceBus/releases/tag/5.2.8,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.8,5.2.8,False,False
1928826,2015-10-08T09:51:08Z,2015-10-15T19:31:56Z,4.6.10,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=112&state=closed) closed.

**Bug**
- [**#2929**](https://github.com/Particular/NServiceBus/pull/2929) prevent timeout message loss when not using DTC

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1928826/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1928826,support-4.6,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.10,https://github.com/Particular/NServiceBus/releases/tag/4.6.10,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.10,4.6.10,False,False
1928799,2015-10-08T09:50:42Z,2015-10-15T19:29:48Z,4.5.7,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=111&state=closed) closed.

**Bug**
- [**#2924**](https://github.com/Particular/NServiceBus/pull/2924) prevent timeout message loss when not using DTC

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1928799/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1928799,support-4.5,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.7,https://github.com/Particular/NServiceBus/releases/tag/4.5.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.7,4.5.7,False,False
1924912,2015-10-07T15:09:26Z,2015-10-15T19:38:20Z,5.1.4,"As part of this release we had [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=116&state=closed) closed.

**Bug**
- [**#2968**](https://github.com/Particular/NServiceBus/pull/2968) prevent timeout message loss when not using DTC
- [**#2972**](https://github.com/Particular/NServiceBus/issues/2972) XmlSerializer now serializes properties of `object` type properly

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1924912/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1924912,support-5.1,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.4,https://github.com/Particular/NServiceBus/releases/tag/5.1.4,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.4,5.1.4,False,False
1924166,2015-10-07T12:50:49Z,2015-10-15T19:36:22Z,5.0.6,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=114&state=closed) closed.

**Bug**
- [**#2963**](https://github.com/Particular/NServiceBus/pull/2963) prevent timeout message loss when not using DTC

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1924166/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1924166,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.6,https://github.com/Particular/NServiceBus/releases/tag/5.0.6,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.6,5.0.6,False,False
1924027,2015-10-08T09:49:55Z,2015-10-15T19:26:44Z,4.4.8,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=110&state=closed) closed.

**Bug**
- [**#2909**](https://github.com/Particular/NServiceBus/pull/2909) prevent timeout message loss when not using DTC

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1924027/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1924027,support-4.4,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.8,https://github.com/Particular/NServiceBus/releases/tag/4.4.8,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.8,4.4.8,False,False
1917946,2015-10-06T12:51:31Z,2015-10-06T14:09:41Z,5.2.7,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?q=milestone%3A5.2.7+is%3Aclosed) closed.

**Bug**
- [**#2956**](https://github.com/Particular/NServiceBus/pull/2956) Endpoint is stopped when exception message is too large for transport

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1917946/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1917946,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.7,https://github.com/Particular/NServiceBus/releases/tag/5.2.7,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.7,5.2.7,False,False
1805941,2015-09-13T12:12:51Z,2015-09-13T12:43:53Z,5.2.6,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/5.2.5...5.2.6).

### Bugs
- [**#2721**](https://github.com/Particular/NServiceBus/issues/2721) Allow users to override the hostid before MD5 is used

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1805941/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1805941,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.6,https://github.com/Particular/NServiceBus/releases/tag/5.2.6,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.6,5.2.6,False,False
1724426,2015-08-26T10:01:30Z,2015-08-26T10:39:31Z,5.0.5,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=108&state=closed) closed.

**Bug**
- [**#2823**](https://github.com/Particular/NServiceBus/pull/2823) XmlSerializer now serializes properties of `object` type properly

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1724426/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1724426,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.5,https://github.com/Particular/NServiceBus/releases/tag/5.0.5,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.5,5.0.5,False,False
1698558,2015-08-20T10:33:24Z,2015-08-20T13:55:26Z,5.2.5,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/5.2.4...5.2.5) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=107&state=closed) being closed.

**Bugs**
- [**#2796**](https://github.com/Particular/NServiceBus/pull/2796) XmlSerializer now serializes properties of `object` type properly
- [**#2621**](https://github.com/Particular/NServiceBus/pull/2621) ForwardReceivedMessagesToQueueCreator can be created using any supported container

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1698558/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1698558,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.5,https://github.com/Particular/NServiceBus/releases/tag/5.2.5,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.5,5.2.5,False,False
1629085,2015-08-04T23:12:16Z,2015-08-05T00:03:40Z,5.2.4,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.2.3...5.2.4) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=106&state=closed) being closed.

**Bug**
- [**#2717**](https://github.com/Particular/NServiceBus/issues/2717) Interface inheritance breaks during serialization when same property name is found in more than one interface

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1629085/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1629085,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.4,https://github.com/Particular/NServiceBus/releases/tag/5.2.4,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.4,5.2.4,False,False
1453816,2015-06-24T05:03:54Z,2015-06-24T06:04:18Z,4.7.6,"As part of this release we had [8 commits](https://github.com/Particular/NServiceBus/compare/4.7.5...4.7.6) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=88&state=closed) being closed.

**Bugs**
- [**#2757**](https://github.com/Particular/NServiceBus/issues/2757) XmlSerializer fails to deserialize array of nulluble ints
- [**#2575**](https://github.com/Particular/NServiceBus/issues/2575) Castle reference doesn't match nuget minimum range

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1453816/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1453816,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.6,https://github.com/Particular/NServiceBus/releases/tag/4.7.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.6,4.7.6,False,False
1453701,2015-06-23T07:11:23Z,2015-06-24T05:17:47Z,5.2.3,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/5.2.2...5.2.3) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=105&state=closed) being closed.

**Bug**
- [**#2706**](https://github.com/Particular/NServiceBus/issues/2706) XmlSerializer fails to deserialize array of nulluble ints

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1453701/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1453701,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.3,https://github.com/Particular/NServiceBus/releases/tag/5.2.3,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.3,5.2.3,False,False
1449568,2015-05-01T01:20:51Z,2015-06-23T10:29:00Z,4.1.8,"As part of this release we had [2472 commits](https://github.com/Particular/NServiceBus/compare/4.1.7...4.1.8) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=103&state=closed) being closed.

**Bug**
- [**#2724**](https://github.com/Particular/NServiceBus/issues/2724) Subscription is overwritten and hence fails to receive messages

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1449568/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1449568,support-4.1,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.8,https://github.com/Particular/NServiceBus/releases/tag/4.1.8,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.8,4.1.8,False,False
1449545,2015-05-01T01:40:40Z,2015-06-23T10:19:01Z,4.0.11,"As part of this release we had [2967 commits](https://github.com/Particular/NServiceBus/compare/4.0.10...4.0.11) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=102&state=closed) being closed.

**Bug**
- [**#2723**](https://github.com/Particular/NServiceBus/issues/2723) Subscription is overwritten and hence fails to receive messages

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1449545/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1449545,support-4.0,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.11,https://github.com/Particular/NServiceBus/releases/tag/4.0.11,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.11,4.0.11,False,False
1449299,2015-05-01T01:19:43Z,2015-06-23T09:34:51Z,4.2.7,"As part of this release we had [2290 commits](https://github.com/Particular/NServiceBus/compare/4.2.6...4.2.7) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=101&state=closed) being closed.

**Bug**
- [**#1941**](https://github.com/Particular/NServiceBus/issues/1941) Subscription is overwritten and hence fails to receive messages

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1449299/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1449299,support-4.2,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.7,https://github.com/Particular/NServiceBus/releases/tag/4.2.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.7,4.2.7,False,False
1408402,2015-06-11T12:50:07Z,2015-06-12T11:34:53Z,5.2.2,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=104&state=closed) closed.

**Bug**
- [**#2748**](https://github.com/Particular/NServiceBus/issues/2748) Saga ReplyToOriginator stopped working with 5.2

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1408402/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1408402,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.2,https://github.com/Particular/NServiceBus/releases/tag/5.2.2,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.2,5.2.2,False,False
1194617,2015-04-21T00:45:49Z,2015-04-21T11:35:56Z,3.3.15,"As part of this release we had [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=93&state=closed) being closed.

**Bugs**
- [**#2638**](https://github.com/Particular/NServiceBus/issues/2638) Incorrect NHibernate nuget package dependency 
- [**#2060**](https://github.com/Particular/NServiceBus/issues/2060) Roslyn C# compiler can't consume extension methods from NServiceBus.Core

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1194617/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1194617,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.15,https://github.com/Particular/NServiceBus/releases/tag/3.3.15,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.15,3.3.15,False,False
1118222,2014-11-25T11:53:02Z,2015-04-02T05:25:43Z,4.4.7,"As part of this release we fixed the following bug:

## Bugs

### [#2581 Corrupted MSMQ Message Headers may result in message loss](https://github.com/Particular/NServiceBus/issues/2581)

##### Who’s affected:

Anyone using MSMQ Transport and is also doing one of the following:
- Manual editing of the headers of messages which may result in an invalid xml of the headers being sent to the endpoint. 
- Anyone dealing with an integration scenario where native message are being sent, for example from Java where the headers may not contain valid xml.

##### Symptoms:

The message will be discarded.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1118222/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1118222,support-4.4,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.7,https://github.com/Particular/NServiceBus/releases/tag/4.4.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.7,4.4.7,False,False
1118051,2014-11-28T05:21:14Z,2015-04-02T03:07:02Z,4.1.7,"As part of this release we fixed the following bug:

## Bugs

### [#2584 Corrupted MSMQ Message Headers may result in message loss](https://github.com/Particular/NServiceBus/issues/2584)

##### Who’s affected:

Anyone using MSMQ Transport and is also doing one of the following:
- Manual editing of the headers of messages which may result in an invalid xml of the headers being sent to the endpoint. 
- Anyone dealing with an integration scenario where native message are being sent, for example from Java where the headers may not contain valid xml.

##### Symptoms:

The message will be discarded.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1118051/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1118051,support-4.1,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.7,https://github.com/Particular/NServiceBus/releases/tag/4.1.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.7,4.1.7,False,False
1116968,2014-11-27T06:01:27Z,2015-04-02T02:31:35Z,4.2.6,"As part of this release we fixed the following bug:

## Bugs

### [#2583 Corrupted MSMQ Message Headers may result in message loss](https://github.com/Particular/NServiceBus/issues/2583)

##### Who’s affected:

Anyone using MSMQ Transport and is also doing one of the following:
- Manual editing of the headers of messages which may result in an invalid xml of the headers being sent to the endpoint. 
- Anyone dealing with an integration scenario where native message are being sent, for example from Java where the headers may not contain valid xml.

##### Symptoms:

The message will be discarded.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1116968/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1116968,support-4.2,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.6,https://github.com/Particular/NServiceBus/releases/tag/4.2.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.6,4.2.6,False,False
1116822,2014-11-25T05:13:01Z,2015-04-01T20:17:03Z,4.5.6,"As part of this release we fixed the following bug:

## Bugs

### [#2580 Corrupted MSMQ Message Headers may result in message loss](https://github.com/Particular/NServiceBus/issues/2580)

##### Who’s affected:

Anyone using MSMQ Transport and is also doing one of the following:
- Manual editing of the headers of messages which may result in an invalid xml of the headers being sent to the endpoint. 
- Anyone dealing with an integration scenario where native message are being sent for example from Java where the headers may not contain valid xml.

##### Symptoms:

The message will be discarded.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1116822/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1116822,support-4.5,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.6,https://github.com/Particular/NServiceBus/releases/tag/4.5.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.6,4.5.6,False,False
1116541,2014-11-24T23:48:11Z,2015-04-01T20:18:46Z,4.6.9,"As part of this release we fixed the following bug:

## Bugs

### [#2579 Corrupted MSMQ Message Headers may result in message loss](https://github.com/Particular/NServiceBus/issues/2579)

##### Who’s affected:

Anyone using MSMQ Transport and is also doing one of the following:
- Manual editing of the headers of messages which may result in an invalid xml of the headers being sent to the endpoint. 
- Anyone dealing with an integration scenario where native message are being sent for example from Java where the headers may not contain valid xml.

##### Symptoms:

The message will be discarded.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1116541/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1116541,support-4.6,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.9,https://github.com/Particular/NServiceBus/releases/tag/4.6.9,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.9,4.6.9,False,False
1109704,2015-03-31T09:28:48Z,2015-03-31T23:16:34Z,5.0.4,"As part of this release we closed [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=98&state=closed).

**Bugs**
- [**#2702**](https://github.com/Particular/NServiceBus/issues/2702) Messages do not get audited with outbox enabled
- [**#2701**](https://github.com/Particular/NServiceBus/issues/2701) Corrupted MSMQ Message Headers may result in message loss

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1109704/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1109704,support-5.0,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.4,https://github.com/Particular/NServiceBus/releases/tag/5.0.4,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.4,5.0.4,False,False
1100792,2014-12-11T00:52:24Z,2015-03-31T23:06:38Z,4.0.10,"As part of this release we fixed the following bug:

## Bugs

### [#2585 Corrupted MSMQ Message Headers may result in message loss](https://github.com/Particular/NServiceBus/issues/2585)

##### Who’s affected:

Anyone using MSMQ Transport and is also doing one of the following:
- Manual editing of the headers of messages which may result in an invalid xml of the headers being sent to the endpoint. 
- Anyone dealing with an integration scenario where native message are being sent, for example from Java where the headers may not contain valid xml.

##### Symptoms:

The message will be discarded.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1100792/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1100792,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.10,https://github.com/Particular/NServiceBus/releases/tag/4.0.10,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.10,4.0.10,False,False
1100778,2014-11-05T11:44:51Z,2015-03-28T03:42:00Z,3.3.13,"## Bugs

### [#1243 Messages are being truncated to 8000 bytes when utilizing Second Level Retries and using NHibernate Timeout Persister](https://github.com/Particular/NServiceBus/issues/1243)

When utilizing Second Level Retires and using NHibernate Timeout Persister with a SQL server database, messages are being truncated to 8000 bytes prior to being persisted to the TimeoutEntity table. The following message is logged:

The fix was to explicitly set type of the column to NHibernateUtil.BinaryBlob in the mapping class.
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/1100778/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1100778,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.13,https://github.com/Particular/NServiceBus/releases/tag/3.3.13,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.13,3.3.13,False,False
1100152,2015-03-31T11:19:42Z,2015-04-02T02:22:39Z,4.3.10,"This patch release has the following bug fixes. 
- [**#2700**](https://github.com/Particular/NServiceBus/issues/2700) Distributor stops handing out work to Workers after restart
- [**#2584**](https://github.com/Particular/NServiceBus/issues/2584) Corrupted MSMQ Message Headers may result in message loss

### Bugs

### [**#2700**](https://github.com/Particular/NServiceBus/issues/2700) Distributor stops handing out work to Workers after restart

We've discovered an issue where a distributor will stop handing out message to workers if you first restart a worker and then its distributor. If there is no traffic from the distributor to the worker between the restarts, the distributor might stop sending messages to the worker completely. Should that happen the following info message will be logged over and over by the distributor `Session ids for Worker at X do not match, so popping next available worker.` The distributor will also be unable to distribute more work to the workers.

**How to know if you're affected:**
- the distributor repeatedly logs `Session ids for Worker at X do not match, so popping next available worker.` 
- the distributor's main input queue has a lot of messages that are not being distributed to workers.

**Workaround:**
- Restarting the distributor will fix the issue temporarily, but it can re-emerge later if the distributor and a workers is restarted in succession.

**What to do if you're affected:**
- Please [update your distributor](http://docs.particular.net/nservicebus/upgrading-the-distributor) to [the latest version](https://github.com/Particular/NServiceBus.Distributor.Msmq/releases/tag/4.4.8). When upgrading the distributor between major versions, it is important that you upgrade as prescribed, so that the workers are properly registered with the distributor.
- This fix does not affect the workers hence, no need to update the workers.

### [**#2584**](https://github.com/Particular/NServiceBus/issues/2584) Corrupted MSMQ Message Headers may result in message loss

##### Who’s affected:

Anyone using MSMQ Transport and is also doing one of the following:
- Manual editing of the headers of messages which may result in an invalid xml of the headers being sent to the endpoint. 
- Anyone dealing with an integration scenario where native message are being sent, for example from Java where the headers may not contain valid xml.

##### Symptoms:

The message will be discarded.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/1100152/assets,https://api.github.com/repos/Particular/NServiceBus/releases/1100152,support-4.3,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.10,https://github.com/Particular/NServiceBus/releases/tag/4.3.10,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.10,4.3.10,False,False
946275,2015-02-10T19:33:32Z,2015-02-12T19:47:38Z,5.2.0,"As part of this release we had [153 commits](https://github.com/Particular/NServiceBus/compare/5.1.3...5.2.0) which resulted in [32 issues](https://github.com/Particular/NServiceBus/issues?milestone=77&state=closed) being closed.

**Features**
- Added support for individualizing endpoint queue names when Scaling-Out [#2571](https://github.com/Particular/NServiceBus/pull/2571)
- Diagnostic support for the message processing pipeline [#2211](https://github.com/Particular/NServiceBus/pull/2211)

**Improvements**
- IncomingContext constructor has to be public for unit testing behaviors [#2635](https://github.com/Particular/NServiceBus/issues/2635)
- Exception Data property to be included when setting exception headers [#2630](https://github.com/Particular/NServiceBus/issues/2630)
- Added explicit API for property injection for IHandleMessages<T> [#2603](https://github.com/Particular/NServiceBus/pull/2603)
- Added Persistence extensibility per storage type [#2587](https://github.com/Particular/NServiceBus/pull/2587)
- Throw an exception when callbacks are used in Send only mode [#2476](https://github.com/Particular/NServiceBus/issues/2476)

**Bugs**
- Configuring invalid combinations of persistence and storage types causes endpoint to fail at startup [#2644](https://github.com/Particular/NServiceBus/pull/2644)
- When setting an individual storage type persistence, all storage persistence types are overridden [#2622](https://github.com/Particular/NServiceBus/issues/2622)
- Support inheritance-based sagas of +1 generic args [#2613](https://github.com/Particular/NServiceBus/pull/2613)
- Send only endpoints can't publish messages [#2612](https://github.com/Particular/NServiceBus/issues/2612)
- Incorrect assignment of assembly ReleaseDateAttribute causes license upgrade protection to expire [#2610](https://github.com/Particular/NServiceBus/issues/2610)
- ForwardReceivedMessagesTo setting does not auto enable forwarding [#2604](https://github.com/Particular/NServiceBus/issues/2604)
- Cannot set up property injection in NSB 5.0 [#2600](https://github.com/Particular/NServiceBus/issues/2600)
- XMLSerialization does not deserialize messages with Uri containing '&' characters [#2595](https://github.com/Particular/NServiceBus/issues/2595)
- Accessing list of scanned types returns nulls for types that could not be scanned [#2591](https://github.com/Particular/NServiceBus/pull/2591)
- Obsolete BusConfiguration.EndpointVersion(string version) [#2589](https://github.com/Particular/NServiceBus/issues/2589)
- Better exception handling for users hosting in IIS without permissions to access ~/App_Data folder [#2570](https://github.com/Particular/NServiceBus/issues/2570)
- Point to documentation on how to set-up performance counter PS cmdlet that is not found [#2519](https://github.com/Particular/NServiceBus/issues/2519)
- When an event is derived from multiple interfaces that don't have a hierarchy, only handlers for the first interface are called [#2301](https://github.com/Particular/NServiceBus/pull/2301)
- Having a message with a read-only collection property of the same type causes StackOverflowException in EncryptionMessageMutator [#2119](https://github.com/Particular/NServiceBus/issues/2119)
- IHandleSagaNotFound fires multiple times for a message that targets multiple sagas [#2080](https://github.com/Particular/NServiceBus/issues/2080)
- High Critical Time reported when a deferred message arrives. [#1250](https://github.com/Particular/NServiceBus/pull/1250)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/946275/assets,https://api.github.com/repos/Particular/NServiceBus/releases/946275,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.2.0,https://github.com/Particular/NServiceBus/releases/tag/5.2.0,https://api.github.com/repos/Particular/NServiceBus/zipball/5.2.0,5.2.0,False,False
893177,2015-01-22T12:40:48Z,2015-03-31T20:52:29Z,3.3.14,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=91&state=closed) being closed.

## Bugs

### [#2586 Throw from NServiceBus.MsmqUtilities.Convert will result in message loss](https://github.com/Particular/NServiceBus/issues/2586)

Fixed so when `NServiceBus.MsmqUtilities.Convert` throws the message will be sent to the error queue

This problem manifests when a message with invalid or corrupted headers are written to the queue causing `NServiceBus.MsmqUtilities.Convert` to throw when dequeuing.

#### Who is affected

Systems utilising external integration to create messages may be affected by this. For example systems with endpoints receiving messages from non-NServiceBus senders.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/893177/assets,https://api.github.com/repos/Particular/NServiceBus/releases/893177,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.14,https://github.com/Particular/NServiceBus/releases/tag/3.3.14,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.14,3.3.14,False,False
863909,2015-01-19T12:56:51Z,2015-01-19T13:36:19Z,5.1.3,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/5.1.2...5.1.3) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=92&state=closed) being closed.

**Bugs**
- [**#2628**](https://github.com/Particular/NServiceBus/issues/2628) Unhandled exception thrown when shutting down if user is using BusNotifications
- [**#2627**](https://github.com/Particular/NServiceBus/issues/2627) Messages do not get audited with outbox enabled
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/863909/assets,https://api.github.com/repos/Particular/NServiceBus/releases/863909,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.3,https://github.com/Particular/NServiceBus/releases/tag/5.1.3,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.3,5.1.3,False,False
719020,2014-11-20T00:51:38Z,2014-11-20T23:25:07Z,4.7.5,"As part of this release we had [18 commits](https://github.com/Particular/NServiceBus/compare/4.7.4...4.7.5) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=87&state=closed) being closed.

## Improvements

### [#2566 NSB 4 with Castle Windsor: Performance is slow while debugger is attached](https://github.com/Particular/NServiceBus/issues/2566)

## Bugs

### [#2573 Throw from NServiceBus.MsmqUtilities.Convert will result in message loss](https://github.com/Particular/NServiceBus/issues/2573)

Fixed so when `NServiceBus.MsmqUtilities.Convert` throws the message will be sent to the error queue

This problem manifest when a message with invalid or corrupted headers are written to the queue causing `NServiceBus.MsmqUtilities.Convert` to throw when dequeuing.

#### Who is effected

Systems utilising external integration to create messages may be effected by this. Foe example systems with endpoints receiving messages from non-NServiceBus senders.

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/719020/assets,https://api.github.com/repos/Particular/NServiceBus/releases/719020,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.5,https://github.com/Particular/NServiceBus/releases/tag/4.7.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.5,4.7.5,False,False
685847,2014-11-07T10:27:53Z,2014-11-07T10:56:09Z,5.1.2,"As part of this release we had [11 commits](https://github.com/Particular/NServiceBus/compare/5.1.1...5.1.2) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=86&state=closed) being closed.

**Bug**
- Adding an explicit configuration API for users to set the host identifier [**#2558**](https://github.com/Particular/NServiceBus/pull/2558)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/685847/assets,https://api.github.com/repos/Particular/NServiceBus/releases/685847,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.2,https://github.com/Particular/NServiceBus/releases/tag/5.1.2,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.2,5.1.2,False,False
675750,2014-11-04T03:21:45Z,2014-11-04T03:31:08Z,,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus/compare/5.1.0...5.1.1) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=84&state=closed) being closed.

## Bugs

### [#2555 MessageForwardingInCaseOfFaultConfig should not be required for sendonly](https://github.com/Particular/NServiceBus/issues/2555)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/675750/assets,https://api.github.com/repos/Particular/NServiceBus/releases/675750,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.1,https://github.com/Particular/NServiceBus/releases/tag/5.1.1,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.1,5.1.1,False,False
671285,2014-11-01T23:10:15Z,2014-11-01T23:28:46Z,5.1.0,"As part of this release we had [159 commits](https://github.com/Particular/NServiceBus/compare/5.0.3...5.1.0) which resulted in [44 issues](https://github.com/Particular/NServiceBus/issues?milestone=60&state=closed) being closed.

## Features

### [#2473 Adding a new Rx BusNotifications API](https://github.com/Particular/NServiceBus/pull/2473)

Streams added in this release:
- `MessageHasFailedAFirstLevelRetryAttempt`
- `MessageHasBeenSentToSecondLevelRetries`
- `MessageSentToErrorQueue`

### [#2103 Expose a way to set TTRQ for MSMQ](https://github.com/Particular/NServiceBus/issues/2103)

Msmq in workgroup mode requires TTRQ to be set when sending.

http://serverfault.com/questions/480285/how-to-change-default-msmq-time-to-reach-queue-time

Exposed a key on the connection string `...;TimeToReachQueue=12:00:00;`  where the value is a parsable timespan.

### [#1235 Prevent saga id from being changed](https://github.com/Particular/NServiceBus/issues/1235)

If a modification of the Saga Id then an exception will be thrown

> A modification of IContainSagaData.Id has been detected. This property is for infrastructure purposes only and should not be modified. SagaType: TheSagaType

### [#1228 Make the timeouts for our circuit breakers configurable](https://github.com/Particular/NServiceBus/issues/1228)

## Improvements

### [#2502 Remove redundant new() constraint from Saga.RequestTimeout](https://github.com/Particular/NServiceBus/issues/2502)

Since an instance is being passed in then there is no need for a `new()` constraint

```
RequestTimeout<TTimeoutMessageType>(DateTime at, TTimeoutMessageType timeoutMessage)
RequestTimeout<TTimeoutMessageType>(TimeSpan within, TTimeoutMessageType timeoutMessage)
```

### [#2491 Obsolete Saga.RequestTimeout(Action<TTimeoutMessageType>)](https://github.com/Particular/NServiceBus/issues/2491)

Both have `new()` constraints and hence cannot be an interface. No need to construct an instance when the consumer can do this themselves. 

```
RequestTimeout<TTimeoutMessageType>(TimeSpan within, Action<TTimeoutMessageType> messageConstructor) where TTimeoutMessageType : new()
RequestTimeout<TTimeoutMessageType>(DateTime at, Action<TTimeoutMessageType> action) where TTimeoutMessageType : new()
```

### [#2487 improve performance of InMemoryTimeoutPersister](https://github.com/Particular/NServiceBus/pull/2487)

An ~4x improvement in the performance of `InMemoryTimeoutPersister`

### [#2480 Change callback so they fire on replies only](https://github.com/Particular/NServiceBus/pull/2480)

### [#2474 Performance counter can hang](https://github.com/Particular/NServiceBus/pull/2474)

Now doing the performance counter check (`counter.CounterType`) in a time-bombed thread that if it doesn't return within 2 seconds we mark the counter as not ""healthy"".

### [#2457 Removed all the host related projects](https://github.com/Particular/NServiceBus/issues/2457)

As of 5.1 the Host will be on a seprarate repo/release cycle

### [#2447 Use Exception.ToString in headers](https://github.com/Particular/NServiceBus/issues/2447)

Store `Exception.ToString()` instead of `Exception.StackTrace` inside the `NServiceBus.ExceptionInfo.StackTrace` header

### [#2439 Remove Add-BindingRedirect from nuget install](https://github.com/Particular/NServiceBus/issues/2439)

Not needed since we are locking assembly version number to major

### [#2431 Remove the logging from init.ps1](https://github.com/Particular/NServiceBus/issues/2431)

It creates noise in the package manager console

### [#2413 Should throw an error Definition does not have a public empty constructor](https://github.com/Particular/NServiceBus/issues/2413)

For Transport, Logging and Persistence definitions.

### [#2367 Persistence no longer required for SendOnly endpoints](https://github.com/Particular/NServiceBus/issues/2367)

### [#2286 InMemorySagaPersister should use a concurrent dictionary](https://github.com/Particular/NServiceBus/issues/2286)

### [#2056 Handle ReflectionTypeLoadException better (included successfully loaded types)](https://github.com/Particular/NServiceBus/issues/2056)

## Bugs

### [#2507 DataBus is looking for FileShareDatabusPath when it should not](https://github.com/Particular/NServiceBus/issues/2507)

### [#2501 passing null messageConstructor parameter to ReplyToOriginator will result in a null message being sent](https://github.com/Particular/NServiceBus/issues/2501)

`ReplyToOriginator<TMessage>(Action<TMessage> messageConstructor)` incorrectly did a null parameter check whichc resulted in a null being passed ass a message.

### [#2464 Impossible to register a custom IMessageSerializer](https://github.com/Particular/NServiceBus/issues/2464)

Now support two possible was to register a custom serializer.

A user can either `config.UseSerialization(type of definition)` or  `config.UseSerialization(type of serializerImplementation)`

### [#2463 Throw from NServiceBus.MsmqUtilities.Convert will result in message loss](https://github.com/Particular/NServiceBus/issues/2463)

Fixed so when `NServiceBus.MsmqUtilities.Convert` throws the message will be sent to the error queue

### [#2407 FeatureStartupTasks are stopped too late](https://github.com/Particular/NServiceBus/issues/2407)

### [#2384 If handler throws a SerializationException then retries are ignored](https://github.com/Particular/NServiceBus/issues/2384)

### [#2352 Throw better exception when endpoint name maxes out endpoint name can max out PerformanceCounters](https://github.com/Particular/NServiceBus/issues/2352)

### [#2094 Incorrect logging when Retries are disabled](https://github.com/Particular/NServiceBus/issues/2094)

### [#2047 PerformanceCounters causes indefinite hang on bus start](https://github.com/Particular/NServiceBus/issues/2047)

### [#2031 Fall back to using WindowsIdentity.GetCurrent when IIS is impersonating ](https://github.com/Particular/NServiceBus/issues/2031)

if `Thread.CurrentPrincipal.Identity` is null (which can happen in IIS impersonation) fall back to using `WindowsIdentity.GetCurrent()` instead of `Thread.CurrentPrincipal.Identity`

### [#2030 Add null Principal checks to WindowsIdentityEnricher](https://github.com/Particular/NServiceBus/issues/2030)

`Thread.CurrentPrincipal` is now checked for null

### [#1976 IBus.OutgoingHeaders updates can cause InvalidOperationException](https://github.com/Particular/NServiceBus/issues/1976)

Change `IBus.OutgoingHeaders` to a `ConcurrentDictionary`

### [#529 Headers set in handler should be visible to downstream handlers](https://github.com/Particular/NServiceBus/issues/529)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/671285/assets,https://api.github.com/repos/Particular/NServiceBus/releases/671285,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/5.1.0,https://github.com/Particular/NServiceBus/releases/tag/5.1.0,https://api.github.com/repos/Particular/NServiceBus/zipball/5.1.0,5.1.0,False,False
669298,2014-10-29T01:45:53Z,2014-10-31T17:46:16Z,4.7.4,"As part of this release we had [1 commit](https://github.com/Particular/NServiceBus/compare/4.7.3...4.7.4) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=83&state=closed) being closed.

## Bugs

### [#2553 4.7.x NServiceBus NuGet package does not contain Init.ps1 script](https://github.com/Particular/NServiceBus/issues/2553)

The missing file caused errors when installing NServiceBus.Host since the host Install.ps1 script tries to add config sections to the app.config file.
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/669298/assets,https://api.github.com/repos/Particular/NServiceBus/releases/669298,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.4,https://github.com/Particular/NServiceBus/releases/tag/4.7.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.4,4.7.4,False,False
662215,2014-10-29T01:45:53Z,2014-10-30T07:38:28Z,4.7.3,"As part of this release we had [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=79&state=closed) closed.

## Improvements

### [#2515 Timeout messages should not invoke SagaNotFound handler](https://github.com/Particular/NServiceBus/issues/2515)

In the following scenarios timeouts for completed sagas can still be fired:
- When a timeout is already retrieved from storage and queued up to be executed;
- When the deletion of all timeouts misses to delete all of them due to stale indexes in Raven;

In the above circumstances, `ISagaNotFound` handlers should not be invoked.

## Bugs

### [#2544 When sending a message from a IFindSagas.FindBy should not attempt to set saga headers](https://github.com/Particular/NServiceBus/issues/2544)

Since the saga instance does not exist at that point there is no point attempting to set the OriginatingSagaId and OriginatingSagaType headers. Such attempt would result in exception being thrown instead of sending the message as user intended.
",https://api.github.com/users/particularbot,6763890,particularbot,https://api.github.com/repos/Particular/NServiceBus/releases/662215/assets,https://api.github.com/repos/Particular/NServiceBus/releases/662215,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.3,https://github.com/Particular/NServiceBus/releases/tag/4.7.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.3,4.7.3,False,False
655429,2014-10-27T05:05:28Z,2014-10-27T06:28:08Z,5.0.3,"As part of this release we had [4 commits](https://github.com/Particular/NServiceBus/compare/5.0.2...5.0.3) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=74&state=closed) being closed.

## Bugs

### [#2530 When transport is configured via INeedInitialization, it does not work, defaults to MSMQ. ](https://github.com/Particular/NServiceBus/issues/2530)

This is an endpoint generated by ServiceMatrix.
It configures the transport in a class that implements `INeedInitialization`.

``` c#
public class TransportConfig : INeedInitialization
{
    public void Customize(BusConfiguration config)
    {
        config.UseTransport<NServiceBus.RabbitMQTransport>();
    }
}
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/2530)_

### [#2481 DisableDistributedTransactions should default the ambient transaction to off](https://github.com/Particular/NServiceBus/issues/2481)

Double negative in distributed transaction configuration logic was causing distributed transactions to always be on even when disabled by consumer

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/655429/assets,https://api.github.com/repos/Particular/NServiceBus/releases/655429,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.3,https://github.com/Particular/NServiceBus/releases/tag/5.0.3,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.3,5.0.3,False,False
652427,2014-10-24T03:05:53Z,2014-10-24T20:44:39Z,5.0.2,"As part of this release we had 1 issue closed.

## Bugs

### [#2520 Fixing bug in distributor not notified about worker ready when handling message of to SLR](https://github.com/Particular/NServiceBus/pull/2520)

Related to this change in distributor
- Added raising FinishedMessageProcessing when handing msg off to SLR
- Moved raising StartedMessageProcessing so that it is invoked even for messages without ID

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SzymonPobiega,163318,SzymonPobiega,https://api.github.com/repos/Particular/NServiceBus/releases/652427/assets,https://api.github.com/repos/Particular/NServiceBus/releases/652427,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.2,https://github.com/Particular/NServiceBus/releases/tag/5.0.2,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.2,5.0.2,False,False
652423,2014-10-24T01:21:04Z,2014-10-24T20:44:26Z,4.7.2,"As part of this release we had 1 issue closed.

## Bugs

### [#2520 Fixing bug in distributor not notified about worker ready when handling message of to SLR](https://github.com/Particular/NServiceBus/pull/2520)

Related to this change in distributor
- Added raising FinishedMessageProcessing when handing msg off to SLR
- Moved raising StartedMessageProcessing so that it is invoked even for messages without ID

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SzymonPobiega,163318,SzymonPobiega,https://api.github.com/repos/Particular/NServiceBus/releases/652423/assets,https://api.github.com/repos/Particular/NServiceBus/releases/652423,support-4.7,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.2,https://github.com/Particular/NServiceBus/releases/tag/4.7.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.2,4.7.2,False,False
632262,2014-10-16T17:36:50Z,2014-10-16T19:54:20Z,4.0.9,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/632262/assets,https://api.github.com/repos/Particular/NServiceBus/releases/632262,support-4.0,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.9,https://github.com/Particular/NServiceBus/releases/tag/4.0.9,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.9,4.0.9,False,False
626821,2014-10-14T20:57:15Z,2014-10-14T22:19:33Z,4.1.6,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/626821/assets,https://api.github.com/repos/Particular/NServiceBus/releases/626821,support-4.1,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.6,https://github.com/Particular/NServiceBus/releases/tag/4.1.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.6,4.1.6,False,False
616340,2014-10-09T23:43:12Z,2014-10-10T19:55:03Z,4.2.5,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/616340/assets,https://api.github.com/repos/Particular/NServiceBus/releases/616340,support-4.2,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.5,https://github.com/Particular/NServiceBus/releases/tag/4.2.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.5,4.2.5,False,False
615750,2014-10-09T18:24:15Z,2014-10-09T23:15:20Z,4.3.8,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/615750/assets,https://api.github.com/repos/Particular/NServiceBus/releases/615750,support-4.3,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.8,https://github.com/Particular/NServiceBus/releases/tag/4.3.8,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.8,4.3.8,False,False
614677,2014-10-09T07:53:13Z,2014-10-09T13:03:52Z,5.0.1,"As part of this release we had [6 commits](https://github.com/Particular/NServiceBus/compare/5.0.0...5.0.1) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=71&state=closed) being closed.

## Bugs

### [#2451 Callback doesn't contain message](https://github.com/Particular/NServiceBus/issues/2451)

Response message can now be accessed from callback.

This bug affect version 5 only.

In prior versions it was possible to access the reply message from a callback, this seem to be broken in v5.

The following acceptance test passes against v4.6 but fails for v5:

``` c#
public class When_using_callback_to_get_message : NServiceBusAcceptanceTest
{
    [Test]
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/2451)_

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/andreasohlund,125028,andreasohlund,https://api.github.com/repos/Particular/NServiceBus/releases/614677/assets,https://api.github.com/repos/Particular/NServiceBus/releases/614677,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.1,https://github.com/Particular/NServiceBus/releases/tag/5.0.1,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.1,5.0.1,False,False
613935,2014-10-09T05:29:59Z,2014-10-09T05:55:37Z,4.7.1,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/613935/assets,https://api.github.com/repos/Particular/NServiceBus/releases/613935,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.1,https://github.com/Particular/NServiceBus/releases/tag/4.7.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.1,4.7.1,False,False
613096,2014-10-08T19:47:18Z,2014-10-09T05:18:35Z,4.5.5,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/613096/assets,https://api.github.com/repos/Particular/NServiceBus/releases/613096,support-4.5,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.5,https://github.com/Particular/NServiceBus/releases/tag/4.5.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.5,4.5.5,False,False
613068,2014-10-08T19:31:26Z,2014-10-09T05:30:09Z,4.4.6,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/613068/assets,https://api.github.com/repos/Particular/NServiceBus/releases/613068,support-4.4,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.6,https://github.com/Particular/NServiceBus/releases/tag/4.4.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.6,4.4.6,False,False
610931,2014-10-08T01:27:20Z,2014-10-08T07:05:23Z,4.6.8,"As part of this release we had 1 issue closed.

## Bugs

### [#2446 Saga with both IAmStartedByMessages and IHandleTimeouts for same message causes timeout to fire for empty saga](https://github.com/Particular/NServiceBus/issues/2446)

Messages handled by a saga that contains a explicit saga id should not be allowed to create a new saga if the given saga can't be found in storage. The saga loader has now been modified to check for the existence of the saga id header and also check that the message is directed to the specific saga by comparing the saga type with the saga type header.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/610931/assets,https://api.github.com/repos/Particular/NServiceBus/releases/610931,support-4.6,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.8,https://github.com/Particular/NServiceBus/releases/tag/4.6.8,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.8,4.6.8,False,False
608563,2014-10-07T03:34:55Z,2014-10-07T10:32:34Z,,"As part of this release we had [5 commits](https://github.com/Particular/NServiceBus/compare/4.6.7...4.7.0) which resulted in [5 issues](https://github.com/Particular/NServiceBus/issues?milestone=68&state=closed) being closed.

## Improvements

### [#2436 Use Exception.ToString in headers](https://github.com/Particular/NServiceBus/pull/2436)

Store `Exception.ToString()` instead of `Exception.StackTrace` inside the `NServiceBus.ExceptionInfo.StackTrace` header

## Bugs

### [#2373 InnerException details lost in error headers](https://github.com/Particular/NServiceBus/issues/2373)

When exception details are written to the error headers the `InnerException` type is captured. 

However the `Message` and the `StackTrace` of `InnerException` are not captured. 

Same goes for the nested `InnerExceptions` and `StackTrace` of `AggregateException` 

### [#2366 MessageModule.HandleError should log an Error when it throws](https://github.com/Particular/NServiceBus/issues/2366)

When `HandleEndMessage` or `HandleBeginMessage` throw an `Error` is logged

However when `HandleError` is called a `Warn` is logged.

### [#2365 Exception detail in header is lost if handler throws an AggregateException](https://github.com/Particular/NServiceBus/issues/2365)

### [#2248 Stacktrace on failed messages is incomplete](https://github.com/Particular/NServiceBus/issues/2248)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/608563/assets,https://api.github.com/repos/Particular/NServiceBus/releases/608563,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.7.0,https://github.com/Particular/NServiceBus/releases/tag/4.7.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.7.0,4.7.0,False,False
600506,2014-10-02T02:21:26Z,2014-10-03T02:53:11Z,4.5.4,"As part of this release we fixed 2 issues.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

### [#2415 Upgraded NService Bus 3.0.3.32 to 4.6.4, the old version saga can't  expire.](https://github.com/Particular/NServiceBus/issues/2415)

We updated NService Bus from 3.0.3.32 to 4.6.4. The old version saga stop work.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/600506/assets,https://api.github.com/repos/Particular/NServiceBus/releases/600506,support-4.5,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.4,https://github.com/Particular/NServiceBus/releases/tag/4.5.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.4,4.5.4,False,False
600504,2014-10-02T02:15:20Z,2014-10-03T02:52:04Z,4.4.5,"As part of this release we fixed 2 issues.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

### [#2415 Upgraded NService Bus 3.0.3.32 to 4.6.4, the old version saga can't  expire.](https://github.com/Particular/NServiceBus/issues/2415)

We updated NService Bus from 3.0.3.32 to 4.6.4. The old version saga stop work.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/600504/assets,https://api.github.com/repos/Particular/NServiceBus/releases/600504,support-4.4,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.5,https://github.com/Particular/NServiceBus/releases/tag/4.4.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.5,4.4.5,False,False
600497,2014-10-02T02:16:26Z,2014-10-03T02:49:13Z,4.3.7,"As part of this release we fixed 2 issues.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

### [#2415 Upgraded NService Bus 3.0.3.32 to 4.6.4, the old version saga can't  expire.](https://github.com/Particular/NServiceBus/issues/2415)

We updated NService Bus from 3.0.3.32 to 4.6.4. The old version saga stop work.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/600497/assets,https://api.github.com/repos/Particular/NServiceBus/releases/600497,support-4.3,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.7,https://github.com/Particular/NServiceBus/releases/tag/4.3.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.7,4.3.7,False,False
600496,2014-10-02T02:17:25Z,2014-10-03T02:48:41Z,4.2.4,"As part of this release we fixed 2 issues.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

### [#2415 Upgraded NService Bus 3.0.3.32 to 4.6.4, the old version saga can't  expire.](https://github.com/Particular/NServiceBus/issues/2415)

We updated NService Bus from 3.0.3.32 to 4.6.4. The old version saga stop work.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/600496/assets,https://api.github.com/repos/Particular/NServiceBus/releases/600496,support-4.2,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.4,https://github.com/Particular/NServiceBus/releases/tag/4.2.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.4,4.2.4,False,False
600495,2014-10-02T02:18:42Z,2014-10-03T02:48:04Z,4.1.5,"As part of this release we fixed 2 issues.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

### [#2415 Upgraded NService Bus 3.0.3.32 to 4.6.4, the old version saga can't  expire.](https://github.com/Particular/NServiceBus/issues/2415)

We updated NService Bus from 3.0.3.32 to 4.6.4. The old version saga stop work.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/600495/assets,https://api.github.com/repos/Particular/NServiceBus/releases/600495,support-4.1,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.5,https://github.com/Particular/NServiceBus/releases/tag/4.1.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.5,4.1.5,False,False
600493,2014-10-02T02:19:39Z,2014-10-03T02:47:26Z,4.0.8,"As part of this release we fixed 2 issues.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

### [#2415 Upgraded NService Bus 3.0.3.32 to 4.6.4, the old version saga can't  expire.](https://github.com/Particular/NServiceBus/issues/2415)

We updated NService Bus from 3.0.3.32 to 4.6.4. The old version saga stop work.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/600493/assets,https://api.github.com/repos/Particular/NServiceBus/releases/600493,support-4.0,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.8,https://github.com/Particular/NServiceBus/releases/tag/4.0.8,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.8,4.0.8,False,False
600490,2014-10-03T00:20:32Z,2014-10-03T02:46:33Z,4.6.7,"As part of this release we fixed 2 issues.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

### [#2415 Upgraded NService Bus 3.0.3.32 to 4.6.4, the old version saga can't  expire.](https://github.com/Particular/NServiceBus/issues/2415)

We updated NService Bus from 3.0.3.32 to 4.6.4. The old version saga stop work.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/600490/assets,https://api.github.com/repos/Particular/NServiceBus/releases/600490,support-4.6,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.7,https://github.com/Particular/NServiceBus/releases/tag/4.6.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.7,4.6.7,False,False
597931,2014-10-01T23:27:57Z,2014-10-02T06:05:15Z,3.3.12,"As part of this release we had [3 commits](https://github.com/Particular/NServiceBus.RavenDB/compare/3.3.11...3.3.12) which resulted in 1 issue being closed.

## Bugs

### [#42 Timeouts intermittently not being processed](https://github.com/Particular/NServiceBus.RavenDB/pull/42)

This fixes the polarity that checks when to run the clean-up procedure 

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/597931/assets,https://api.github.com/repos/Particular/NServiceBus/releases/597931,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.12,https://github.com/Particular/NServiceBus/releases/tag/3.3.12,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.12,3.3.12,False,False
592899,2014-09-17T11:59:47Z,2014-10-01T17:10:59Z,5.0.0,"## Upgrade Guide from v4 to v5

http://docs.particular.net/nservicebus/upgradeguides/4to5

As part of this release we had [97 issues](https://github.com/Particular/NServiceBus/issues?milestone=15&state=closed) closed.

<!---
@huboard:{""order"":45.0}
-->

## Features

### [#2356 Add XmlMessageSerializer support for generic types.](https://github.com/Particular/NServiceBus/issues/2356)

### [#1605 Split RavenDB from the core and add support for RavenDB 2.5](https://github.com/Particular/NServiceBus/issues/1605)

In order to better follow the release cycle of RavenDB, the RavenDB functionality has been removed from the core into its own repository https://github.com/Particular/NServiceBus.RavenDB and nuget 
https://www.nuget.org/packages/NServiceBus.RavenDB

### [#1604 Pull the distributor out of the core](https://github.com/Particular/NServiceBus/issues/1604)

Moved to a separate repo https://github.com/Particular/NServiceBus.Distributor.Msmq and NuGet https://www.nuget.org/packages/NServiceBus.Distributor.MSMQ/

### [#1555 Non-DTC operations](https://github.com/Particular/NServiceBus/issues/1555)

In order to provide the same level of consistency as users that are running with DTC transactions enabled we should introduce a mode of operations that provides those same guarantees without requiring a DTC compliant transport and storage.

The following is the high-level design

##### When a message is pulled from the Q
- if IncomingMessage.MessageId exists in the outbox
  - no: Record all actions (keep them inmemorybatch them to storage at end of ""inner"" transaction)
        \* Note that message id will be generated here and kept stable
  - yes: dispatch all message actions (since this is a retry) but don't invoke user code

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1555)_

## Improvements

### [#2330 Provide saga type name when logging a SagaNotFound message](https://github.com/Particular/NServiceBus/issues/2330)

### [#2328 Introduce ISendOnlyBus](https://github.com/Particular/NServiceBus/issues/2328)

To simplify the api by not exposing `IBus` methods not relevant for a sendonly bus

### [#2327 Introduce Bus.Create(new BusConfiguration())](https://github.com/Particular/NServiceBus/issues/2327)

### [#2288 Move IConfigureThisEndpoint out of the core](https://github.com/Particular/NServiceBus/issues/2288)

### [#2282 Container.RegisterSingleton should take an instance of T not an object](https://github.com/Particular/NServiceBus/issues/2282)

### [#2261 Moved Roles into the Host](https://github.com/Particular/NServiceBus/issues/2261)

The extension points `IConfigureRole`, `IConfigureRole<T>` and `IRole` no longer exist.

`AsA_Client` and `AsA_Server` can still be used. 

`AsA_Publisher` has been deprecated and should be replaced with `AsA_Server` 

### [#2244 Remove Bus.CreateInstance ](https://github.com/Particular/NServiceBus/issues/2244)

So where previously this was used

```
Bus.Publish(Bus.CreateInstance<OrderCancelled>(o =>
    {
        o.OrderNumber = message.OrderNumber;
        o.ClientId = message.ClientId;
    }));
```

Now this is used

```
Bus.Publish<OrderCancelled>(o =>
    {
        o.OrderNumber = message.OrderNumber;
        o.ClientId = message.ClientId;
    });
```

### [#2229 Improve error reporting in TimeoutPersisterReceiver](https://github.com/Particular/NServiceBus/issues/2229)

When the timeout persister logs a warning about a failure it will now include the exception in the log entry

### [#2168 Remove UnicastBus.Start(Action)](https://github.com/Particular/NServiceBus/issues/2168)

The `Action` parameter overload of UnicastBus.Start(Action)` has been removed

### [#2167 Remove ForInstallationOn<T>, Windows and IEnvironment](https://github.com/Particular/NServiceBus/issues/2167)

This was an overly complex approach to running installers. As such it has been simplified

### [#2137 Make ConfigureHowToFindSaga abstract](https://github.com/Particular/NServiceBus/issues/2137)

Too many people forget to override this method. As such it will now be abstract.

### [#2136 Remove empty constructor requirement from Saga](https://github.com/Particular/NServiceBus/issues/2136)

by using `FormatterServices.GetUninitializedObject`

### [#2113 Merge the Core](https://github.com/Particular/NServiceBus/issues/2113)

The NSB interfaces dll was created to allow people to have a smaller dependency when creating a messages assembly. With the introduction of unobtrusive messages that is no longer required. As such `NServiceBus.dll` will be merged into `NServiceBus.Core.dll`. Also the `NServiceBus.Interfaces` nuget will be deprecated.

### [#2105 Change IMessageSerializer.Serialize to take a single message](https://github.com/Particular/NServiceBus/issues/2105)

In version 5 multi-message sends is being removed. So serialization of an array of messages is no longer required.

Note that deserialization to an array is still required for backwards compatibility with earlier versions of NSB

### [#2104 Obsolete SerializationSettings WrapSingleMessages and DontWrapSingleMessages](https://github.com/Particular/NServiceBus/issues/2104)

In version 5 multi-message sends is being removed. So Wrapping messages is no longer required. It only remains for compatibility with 3.0 endpoints

### [#2102 Standardise extension methods to configure persistences](https://github.com/Particular/NServiceBus/issues/2102)

### [#2097 Remove UnicastBus.NoSubscribersForMessage event ](https://github.com/Particular/NServiceBus/issues/2097)

### [#2095 replace ISaga with non generic base class ""Saga""](https://github.com/Particular/NServiceBus/issues/2095)

`ISaga` looks like an extension point. But in reality it is an internal concern which allows the framework to gain access to a non-generic version of the sagadata. See #1762

So `ISaga` (#1762) and `ISaga<T>` (#1765)  were obsoleted

The replacement for the is a non-generic base class `Saga`. This class is a legitimating extension point, although most scenarios would still use `Saga<T>`. All functionality of `Saga<T>` will be pushed up to `Saga`. `Saga<T>` will now inherit from `Saga`.

### [#2093 remove MessageIntentEnum.Init](https://github.com/Particular/NServiceBus/issues/2093)

### [#2091 remove IPersistSagas](https://github.com/Particular/NServiceBus/issues/2091)

Not used for anything.

### [#2090 Remove IConfigurable interface on Saga](https://github.com/Particular/NServiceBus/issues/2090)

With the removal of `ISaga` and `ISaga<T>` the `IConfigurable` interface is redundant.

### [#2088 Remove Bus.Subscribe Predicate overloads](https://github.com/Particular/NServiceBus/issues/2088)

Since the Predicate is executed at the subscriber side it is not efficient. Also this is a confusing API since
consumer often, incorrectly, believe it is publisher side filtering. Instead create a Handler that does this 
filtering logic and then, optionally, calls `DoNotContinueDispatchingCurrentMessageToHandlers`. This 
Handler should be ordered to run before other handlers.

related to https://github.com/Particular/NServiceBus/issues/1546

### [#2084 InMemory transport removal](https://github.com/Particular/NServiceBus/issues/2084)

### [#2082 Remove this.Bus() extension method for IHandleMessages implementations](https://github.com/Particular/NServiceBus/issues/2082)

### [#2081 Remove impersonation](https://github.com/Particular/NServiceBus/issues/2081)

### [#2078 Move to .net 4.5](https://github.com/Particular/NServiceBus/issues/2078)

The reasons for doing this are as follows
- Allows some better optimization in the core via the use of new APIs provided in 4.5 
- Some of our Satellite dependencies are already moving 4.5. For example Unity
- 4.5 was release in mid 2012 so it has been out for reasonable amount of time
- Less testing surface area
- Also allows us to take advantages of the other various improvements in 4.5 http://msdn.microsoft.com/en-us/library/ms171868(v=vs.110).aspx#core

What this means for consumers
- The new minimum Visual Studio version will be Visual Studio 2012
- The new minimum server OS will be 2008 
- The new minimum desktop OS will be Vista SP2 
- All assemblies (and nugets) that depend on the core will be upgraded to 4.5

Note the earlier versions of NServiceBus will still be compatible and supported for .net 4

For more information on .net 4.5 see 
- .NET Framework 4.5 – Core New Features and Improvements http://msdn.microsoft.com/en-us/library/ms171868(v=vs.110).aspx#core
- .NET Framework System Requirements http://msdn.microsoft.com/en-us/library/8z6watww%28v=vs.110%29.aspx

### [#2070 better handling of missing Feature.Enable<Sagas>](https://github.com/Particular/NServiceBus/issues/2070)

so if a user forgets to have this line `Feature.Enable<Sagas>();` but still has a saga no guidance is given as to why that saga is not executed

In fact there is misinformation

```
Could not find a saga for the message type ""Message1"". Going to invoke SagaNotFoundHandlers.
```

### [#1989 Performance is slow while debugger is attached](https://github.com/Particular/NServiceBus/issues/1989)

### [#1863 Set DoNotWrapHandlersExecutionInATransactionScope automatically when Disabling transactions](https://github.com/Particular/NServiceBus/issues/1863)

When you call Disable on transactions, your call is still wrapped in a transactionscope

So to get rid of all transactional behavior you need to do both

```
Configure.Transactions.Advanced(a => a.DoNotWrapHandlersExecutionInATransactionScope());
Configure.Transactions.Disable();
```

Would be better to remove the scope automatically

### [#1857 ReturnToSourceQueue error message incorrectly formatted](https://github.com/Particular/NServiceBus/issues/1857)

Fix the incorrect message:

```
No message found with ID 'NServiceBus.MessageId'. Going to check headers of all messages for one with 'NServiceBus.MessageId' or 'NServiceBus.CorrelationId'.
```

### [#1791 Remove DelegateFactory](https://github.com/Particular/NServiceBus/issues/1791)

### [#1707 Remove UnicastBus.DisableMessageHandling ](https://github.com/Particular/NServiceBus/issues/1707)

### [#1603 Pull the gateway out of the core](https://github.com/Particular/NServiceBus/issues/1603)

Since the gateway is a optional component we should pull it out of the core and auto enable it if users reference it.

### [#1554 Configure.Transaction.Disable() => Don't use a transaction scope by default](https://github.com/Particular/NServiceBus/issues/1554)

If one configures the Bus with

```
Configure.Transactions.Disable();
```

then no transactions should be used at all (at least I understand this that way).

But even if Transactions are disabled, the `MsmqDequeueStrategy` calls `TransportReceiver.TryProcess(TransportMessage): bool` which starts a new Transaction scope.

This behavior can currently be fixed, if one set explicitly

```
Configure.Transactions.Disable(s => s.DoNotWrapHandlersExecutionInATransactionScope());
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1554)_

### [#1416 Split custom logging framework support into diff repos and nugets](https://github.com/Particular/NServiceBus/issues/1416)

https://github.com/Particular/NServiceBus.NLog
https://github.com/Particular/NServiceBus.Lo4Net

### [#1367 Remove actions in Bus.Start()](https://github.com/Particular/NServiceBus/issues/1367)

The `startupAction` parameter of `UnicastBus.Start`simply executed the action immediately before the actual start of the bus. This provided no real value since a consumer can simply execute said action prior to calling `Start`.

### [#1366 Remove .RunCustomAction()](https://github.com/Particular/NServiceBus/issues/1366)

### [#1346 Obsolete sending and publishing batches of messages together in a single call](https://github.com/Particular/NServiceBus/issues/1346)

Each of the messaging APIs that involve multiple messages on `IBus` have been removed. Below is the table on how to replace these.

| Old Method | Replacement Method |
| :-- | :-- |
| Publish<T>(T[] messages); | Publish<T>(T message); |
| SendLocal(object[] messages); | SendLocal(object message); |
| Send(object[] messages); | Send(object message); |
| Send(string destination, object[] messages); | Send(string destination, object message); |
| Send(Address address, object[] messages); | Send(Address address, object message); |
| Send(string destination, string correlationId, object[] messages); | Send(string destination, string correlationId, object message); |
| SendToSites(IEnumerable<string> siteKeys, object[] messages); | SendToSites(IEnumerable<string> siteKeys, object message); |
| Defer(TimeSpan delay, object[] messages); | Defer(TimeSpan delay, object message); |
| Defer(DateTime processAt, object[] messages); | Defer(DateTime processAt, object message); |
| Reply(object[] messages); | Reply(object message); |

### [#1035 Introduce a NServiceBus.EndpointVersion header](https://github.com/Particular/NServiceBus/issues/1035)

To capture the version of the users endpoint that is running. Extract the current code (used in side by side mode in the host) and make it available on the core.

##### New api in v5

```
var configuration = new BusConfiguration();
configuration.EndpointVersion(""1.2.1""))
```

### [#948 Remove IUnicastBus](https://github.com/Particular/NServiceBus/issues/948)

Replacement is `IBus`

### [#928 Separate RavenDB support to a separate assembly](https://github.com/Particular/NServiceBus/issues/928)

RavenDB has been split out of the core to a separate NServiceBus.RavenDB assembly. This new assembly targets RavenDB 2.5. Please see docs.particular.net for more information

### [#779 The order where DefineEndpointName is specified in the fluent API should not matter](https://github.com/Particular/NServiceBus/issues/779)

The new api requires the endpoint name to be specified up front:

```
configuration.EndpointName(""someName"");
```

### [#751 Remove MsmqTransportConfig completely](https://github.com/Particular/NServiceBus/issues/751)

Replacement is `TransportConfig` section instead

### [#450 Throw excepton if IWantCustomInitialization is used in the wrong location](https://github.com/Particular/NServiceBus/issues/450)

Throw an exception if `IWantCustomInitialization` is used on anything which doesn't also implement `IConfigureThisEndpoint`.

## Bugs

### [#2395 Log for publishing events doesn't include target endpoint.](https://github.com/Particular/NServiceBus/issues/2395)

### [#2374 DefaultRetryPolicy.NumberOfRetries and DefaultRetryPolicy.TimeIncrease are static](https://github.com/Particular/NServiceBus/issues/2374)

Which means they are global (last one wins) across all bus instances

### [#2329 PerformanceMonitorUsersInstaller is broken for non english OSs](https://github.com/Particular/NServiceBus/issues/2329)

In `PerformanceMonitorUsersInstaller` we have hardcoded the group name to ""Performance Monitor Users"", which means that for non English OSs, that will not work.

See https://github.com/Particular/NServiceBus/blob/f50a5d23b69dec4b62ae3e981d5ee65e811e2220/src/NServiceBus.Core/Monitoring/PerformanceMonitorUsersInstaller.cs#L43-L50

### [#2226 IgnoreMachineName flag is not taken into account when calculating hashcode](https://github.com/Particular/NServiceBus/issues/2226)

### [#1909 NServiceBus fails to shut down if `IWantToRunWhenBusStartsAndStops.Start` throws](https://github.com/Particular/NServiceBus/issues/1909)

### [#1875 NullReferenceException when doing a send and no mapping is configured](https://github.com/Particular/NServiceBus/issues/1875)

This case is now explicitly detected and a better exception will be thrown.

### [#1736 log4net NullReferenceExceptions ](https://github.com/Particular/NServiceBus/issues/1736)

In Version 5 log4net is no longer embedded inside NServiceBus

### [#1661 NinjectObjectBuilder.ConfigureProperty won't replace property binding when multiple configs are applied](https://github.com/Particular/NServiceBus/issues/1661)

So now this code 

```
builder.ConfigureProperty(typeof(DuplicateClass), ""SomeProperty"", false);
builder.ConfigureProperty(typeof(DuplicateClass), ""SomeProperty"", true); // this should remove/override the previous property setting
```

Will result in `SomeProperty` being injected as `true`

### [#1506 ProfileManager logger is initialised to NullLogger before custom loggerfactory is set up](https://github.com/Particular/NServiceBus/issues/1506)

Version 5 now has sensible defaults for logging. So logging will still occur from `ProfileManager` even if logging is not yet configured.

### [#1486 DefaultConfigurationSource.GetConfiguration<T> called before IWantToRunBeforeConfiguration](https://github.com/Particular/NServiceBus/issues/1486)

In Version 5 reading of the logging config bypasses `IConfigurationSource` and goes directly to `ConfigurationManager.GetSection`

### [#1485 NLog cannot accept values from config file](https://github.com/Particular/NServiceBus/issues/1485)

### [#1372 When using NServiceBus.Host and using CustomInitialization to start the endpoint as SendOnly, the host throws configuration errors](https://github.com/Particular/NServiceBus/issues/1372)

### [#1284 Default log file name does not have a "".txt"" extension](https://github.com/Particular/NServiceBus/issues/1284)

### [#800 Remove obligation that PurgeOnStartup needs to be specified before specifying any transport](https://github.com/Particular/NServiceBus/issues/800)

### [#297 NServiceBus.Host Endpoint name is ignored when configuring endpoint.](https://github.com/Particular/NServiceBus/issues/297)

Remove the ordering issues that can result in endpoint name being ignored

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/592899/assets,https://api.github.com/repos/Particular/NServiceBus/releases/592899,master,https://api.github.com/repos/Particular/NServiceBus/tarball/5.0.0,https://github.com/Particular/NServiceBus/releases/tag/5.0.0,https://api.github.com/repos/Particular/NServiceBus/zipball/5.0.0,5.0.0,False,False
585097,2014-09-26T08:12:40Z,2014-09-26T12:14:40Z,4.6.6,"## Bugs

### [#2401 v4.6.5 has an incorrect assembly version](https://github.com/Particular/NServiceBus/issues/2401)

It's now 4.6.5 , should be 4.6.0

This needs to be hotfixed since it will force users to add asm redirect when upgrading from 4.6.X to 4.6.5

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/andreasohlund,125028,andreasohlund,https://api.github.com/repos/Particular/NServiceBus/releases/585097/assets,https://api.github.com/repos/Particular/NServiceBus/releases/585097,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.6,https://github.com/Particular/NServiceBus/releases/tag/4.6.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.6,4.6.6,False,False
546497,2014-09-09T23:53:58Z,2014-09-10T00:53:00Z,4.6.5,"As part of this release we had [16 commits](https://github.com/Particular/NServiceBus/compare/4.6.4...4.6.5) which resulted in [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=67&state=closed) being closed.

## Bugs

### [#2353 Timeouts and deferred messages are delivered to local queue, not clustered queue](https://github.com/Particular/NServiceBus/issues/2353)

**In NServiceBus 4.6.3, in a clustered distributor setup, timeouts and deferred messages are delivered to local queue on workers and not to clustered queue.**

Timeout messages and deferred messages are delivered directly to a specific local queue (on the server which requested the timeout/deferring) and not to the clustered queue. This bypasses the regular path which involves removing a message from the storage queue and deliver the destination queue on the worker. The worker does not know this and reports back that it is ready to handle a new message after handling the timeout message, which causes the storage queue to grow.

See [question on StackOverflow](http://stackoverflow.com/questions/25684256/increasing-number-of-messages-in-storage-queues-after-saga-timeouts) for more information

### [#2072 NRE when sending a message that has no routing](https://github.com/Particular/NServiceBus/issues/2072)

When an endpoint tries to send a message and if no routing information has been specified in the configuration, then the endpoint throws an unfriendly exception.

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/546497/assets,https://api.github.com/repos/Particular/NServiceBus/releases/546497,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.5,https://github.com/Particular/NServiceBus/releases/tag/4.6.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.5,4.6.5,False,False
511196,2012-05-21T08:37:09Z,2014-08-24T12:10:14Z,3.1.0,"Legacy release, release notes TBD
",https://api.github.com/users/andreasohlund,125028,andreasohlund,https://api.github.com/repos/Particular/NServiceBus/releases/511196/assets,https://api.github.com/repos/Particular/NServiceBus/releases/511196,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.1.0,https://github.com/Particular/NServiceBus/releases/tag/3.1.0,https://api.github.com/repos/Particular/NServiceBus/zipball/3.1.0,3.1.0,False,False
507774,2014-08-20T01:13:14Z,2014-08-22T05:52:25Z,3.3.11,"As part of this release we had [1 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507774/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507774,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.11,https://github.com/Particular/NServiceBus/releases/tag/3.3.11,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.11,3.3.11,False,False
507768,2014-08-19T05:08:03Z,2014-09-09T23:38:39Z,4.0.7,"As part of this release we had [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Bugs

### [#2300 Raven check needs to include an upper bound range](https://github.com/Particular/NServiceBus/issues/2300)

NServiceBus ships with RavenDB Client v2 embedded as part of the core.
As highlighted previously in [this discussion](https://groups.google.com/forum/#!msg/particularsoftware/GEBLo3U6kw0/Oi0FmNLVB1sJ) a new nuget/dll was released to work against RavenDB v2.5.

So currently anyone using NServiceBus v4 with RavenDB v2.5 Server need to be running the new [integration package](https://github.com/Particular/NServiceBus.RavenDB/releases/tag/1.0.0) otherwise them may lose messages!

To ensure that the correct version of the RavenDB integration is being used we need to modify the Raven check that we do in the Core to restrict the upper bound version to be < 2.5

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507768/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507768,support-4.0,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.7,https://github.com/Particular/NServiceBus/releases/tag/4.0.7,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.7,4.0.7,False,False
507766,2014-08-19T05:13:15Z,2014-08-22T05:45:15Z,4.1.4,"As part of this release we had [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Bugs

### [#2300 Raven check needs to include an upper bound range](https://github.com/Particular/NServiceBus/issues/2300)

NServiceBus ships with RavenDB Client v2 embedded as part of the core.
As highlighted previously in [this discussion](https://groups.google.com/forum/#!msg/particularsoftware/GEBLo3U6kw0/Oi0FmNLVB1sJ) a new nuget/dll was released to work against RavenDB v2.5.

So currently anyone using NServiceBus v4 with RavenDB v2.5 Server need to be running the new [integration package](https://github.com/Particular/NServiceBus.RavenDB/releases/tag/1.0.0) otherwise them may lose messages!

To ensure that the correct version of the RavenDB integration is being used we need to modify the Raven check that we do in the Core to restrict the upper bound version to be < 2.5

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507766/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507766,support-4.1,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.4,https://github.com/Particular/NServiceBus/releases/tag/4.1.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.4,4.1.4,False,False
507765,2014-08-19T05:15:09Z,2014-08-22T05:44:31Z,4.2.3,"As part of this release we had [2 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Bugs

### [#2300 Raven check needs to include an upper bound range](https://github.com/Particular/NServiceBus/issues/2300)

NServiceBus ships with RavenDB Client v2 embedded as part of the core.
As highlighted previously in [this discussion](https://groups.google.com/forum/#!msg/particularsoftware/GEBLo3U6kw0/Oi0FmNLVB1sJ) a new nuget/dll was released to work against RavenDB v2.5.

So currently anyone using NServiceBus v4 with RavenDB v2.5 Server need to be running the new [integration package](https://github.com/Particular/NServiceBus.RavenDB/releases/tag/1.0.0) otherwise them may lose messages!

To ensure that the correct version of the RavenDB integration is being used we need to modify the Raven check that we do in the Core to restrict the upper bound version to be < 2.5

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507765/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507765,support-4.2,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.3,https://github.com/Particular/NServiceBus/releases/tag/4.2.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.3,4.2.3,False,False
507764,2014-08-22T02:38:40Z,2014-08-22T05:42:39Z,4.3.6,"As part of this release we had [3 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Bugs

### [#2319 Convention based .DefiningMessagesAs causes an exception when following pattern in docs](https://github.com/Particular/NServiceBus/issues/2319)

Docs here: http://docs.particular.net/nservicebus/unobtrusive-mode-messages suggest that you should use a namespace convention for detecting messages. This is cool and I like this convention however if you follow the convention for events/commands and apply the same convention to messages (eg `.DefiningMessagesAs(t => t.Namespace != null &&  t.Namespace.EndsWith("".Messages""))` it exceptions with the following:

```
An exception of type 'System.NotSupportedException' occurred in NServiceBus.Core.dll but was not handled in user code

Additional information: IDictionary<T, K> is not a supported property type for serialization, use Dictionary<T,K> instead. Type: NServiceBus.Unicast.UnicastBus Property: MessageDispatcherMappings. Consider using a concrete Dictionary<T, K> instead, where T and K cannot be of type 'System.Object'
```

I think either the docs should be updated to note this issue and suggest a better pattern or the code should exclude NServiceBus.*.Messages and Unicast.Messages from the scan types.

### [#2300 Raven check needs to include an upper bound range](https://github.com/Particular/NServiceBus/issues/2300)

NServiceBus ships with RavenDB Client v2 embedded as part of the core.
As highlighted previously in [this discussion](https://groups.google.com/forum/#!msg/particularsoftware/GEBLo3U6kw0/Oi0FmNLVB1sJ) a new nuget/dll was released to work against RavenDB v2.5.

So currently anyone using NServiceBus v4 with RavenDB v2.5 Server need to be running the new [integration package](https://github.com/Particular/NServiceBus.RavenDB/releases/tag/1.0.0) otherwise them may lose messages!

To ensure that the correct version of the RavenDB integration is being used we need to modify the Raven check that we do in the Core to restrict the upper bound version to be < 2.5

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507764/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507764,support-4.3,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.6,https://github.com/Particular/NServiceBus/releases/tag/4.3.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.6,4.3.6,False,False
507763,2014-08-22T02:40:02Z,2014-08-22T05:41:48Z,4.4.4,"As part of this release we had [3 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Bugs

### [#2319 Convention based .DefiningMessagesAs causes an exception when following pattern in docs](https://github.com/Particular/NServiceBus/issues/2319)

Docs here: http://docs.particular.net/nservicebus/unobtrusive-mode-messages suggest that you should use a namespace convention for detecting messages. This is cool and I like this convention however if you follow the convention for events/commands and apply the same convention to messages (eg `.DefiningMessagesAs(t => t.Namespace != null &&  t.Namespace.EndsWith("".Messages""))` it exceptions with the following:

```
An exception of type 'System.NotSupportedException' occurred in NServiceBus.Core.dll but was not handled in user code

Additional information: IDictionary<T, K> is not a supported property type for serialization, use Dictionary<T,K> instead. Type: NServiceBus.Unicast.UnicastBus Property: MessageDispatcherMappings. Consider using a concrete Dictionary<T, K> instead, where T and K cannot be of type 'System.Object'
```

I think either the docs should be updated to note this issue and suggest a better pattern or the code should exclude NServiceBus.*.Messages and Unicast.Messages from the scan types.

### [#2300 Raven check needs to include an upper bound range](https://github.com/Particular/NServiceBus/issues/2300)

NServiceBus ships with RavenDB Client v2 embedded as part of the core.
As highlighted previously in [this discussion](https://groups.google.com/forum/#!msg/particularsoftware/GEBLo3U6kw0/Oi0FmNLVB1sJ) a new nuget/dll was released to work against RavenDB v2.5.

So currently anyone using NServiceBus v4 with RavenDB v2.5 Server need to be running the new [integration package](https://github.com/Particular/NServiceBus.RavenDB/releases/tag/1.0.0) otherwise them may lose messages!

To ensure that the correct version of the RavenDB integration is being used we need to modify the Raven check that we do in the Core to restrict the upper bound version to be < 2.5

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507763/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507763,support-4.4,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.4,https://github.com/Particular/NServiceBus/releases/tag/4.4.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.4,4.4.4,False,False
507761,2014-08-22T02:42:23Z,2014-08-22T05:41:07Z,4.5.3,"As part of this release we had [3 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Bugs

### [#2319 Convention based .DefiningMessagesAs causes an exception when following pattern in docs](https://github.com/Particular/NServiceBus/issues/2319)

Docs here: http://docs.particular.net/nservicebus/unobtrusive-mode-messages suggest that you should use a namespace convention for detecting messages. This is cool and I like this convention however if you follow the convention for events/commands and apply the same convention to messages (eg `.DefiningMessagesAs(t => t.Namespace != null &&  t.Namespace.EndsWith("".Messages""))` it exceptions with the following:

```
An exception of type 'System.NotSupportedException' occurred in NServiceBus.Core.dll but was not handled in user code

Additional information: IDictionary<T, K> is not a supported property type for serialization, use Dictionary<T,K> instead. Type: NServiceBus.Unicast.UnicastBus Property: MessageDispatcherMappings. Consider using a concrete Dictionary<T, K> instead, where T and K cannot be of type 'System.Object'
```

I think either the docs should be updated to note this issue and suggest a better pattern or the code should exclude NServiceBus.*.Messages and Unicast.Messages from the scan types.

### [#2300 Raven check needs to include an upper bound range](https://github.com/Particular/NServiceBus/issues/2300)

NServiceBus ships with RavenDB Client v2 embedded as part of the core.
As highlighted previously in [this discussion](https://groups.google.com/forum/#!msg/particularsoftware/GEBLo3U6kw0/Oi0FmNLVB1sJ) a new nuget/dll was released to work against RavenDB v2.5.

So currently anyone using NServiceBus v4 with RavenDB v2.5 Server need to be running the new [integration package](https://github.com/Particular/NServiceBus.RavenDB/releases/tag/1.0.0) otherwise them may lose messages!

To ensure that the correct version of the RavenDB integration is being used we need to modify the Raven check that we do in the Core to restrict the upper bound version to be < 2.5

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507761/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507761,support-4.5,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.3,https://github.com/Particular/NServiceBus/releases/tag/4.5.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.3,4.5.3,False,False
507759,2014-09-05T12:29:25Z,2014-09-09T23:38:51Z,4.6.4,"As part of this release we had [3 issues](https://github.com/Particular/NServiceBus/issues?milestone=66&state=closed) closed.

## Features

### [#2287 Enable users to switch encryption keys without message loss](https://github.com/Particular/NServiceBus/issues/2287)

Since the dawn of time we've only supported 1 encryption key in the ootb encryption(AES) and this makes it close to impossible to switch keys without losing data, messages in SLR, or ERROR queues would have the wrong key and fail to decrypt.

The users only options is either  to not switch keys which is no good in terms of security best practices or implement their own ISecurityService

The proposed solution is to allow for secondary keys that we fall back to if decryption fails. This way users can add new primary keys (used to encrypt) but still keep the old key(s) around long enough to be able to process messages in SLR or the error queue.

This bug needs to be backported to all supported versions (v3.3 and up)

## Bugs

### [#2319 Convention based .DefiningMessagesAs causes an exception when following pattern in docs](https://github.com/Particular/NServiceBus/issues/2319)

Docs here: http://docs.particular.net/nservicebus/unobtrusive-mode-messages suggest that you should use a namespace convention for detecting messages. This is cool and I like this convention however if you follow the convention for events/commands and apply the same convention to messages (eg `.DefiningMessagesAs(t => t.Namespace != null &&  t.Namespace.EndsWith("".Messages""))` it exceptions with the following:

```
An exception of type 'System.NotSupportedException' occurred in NServiceBus.Core.dll but was not handled in user code

Additional information: IDictionary<T, K> is not a supported property type for serialization, use Dictionary<T,K> instead. Type: NServiceBus.Unicast.UnicastBus Property: MessageDispatcherMappings. Consider using a concrete Dictionary<T, K> instead, where T and K cannot be of type 'System.Object'
```

I think either the docs should be updated to note this issue and suggest a better pattern or the code should exclude NServiceBus.*.Messages and Unicast.Messages from the scan types.

### [#2300 Raven check needs to include an upper bound range](https://github.com/Particular/NServiceBus/issues/2300)

NServiceBus ships with RavenDB Client v2 embedded as part of the core.
As highlighted previously in [this discussion](https://groups.google.com/forum/#!msg/particularsoftware/GEBLo3U6kw0/Oi0FmNLVB1sJ) a new nuget/dll was released to work against RavenDB v2.5.

So currently anyone using NServiceBus v4 with RavenDB v2.5 Server need to be running the new [integration package](https://github.com/Particular/NServiceBus.RavenDB/releases/tag/1.0.0) otherwise them may lose messages!

To ensure that the correct version of the RavenDB integration is being used we need to modify the Raven check that we do in the Core to restrict the upper bound version to be < 2.5

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/507759/assets,https://api.github.com/repos/Particular/NServiceBus/releases/507759,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.4,https://github.com/Particular/NServiceBus/releases/tag/4.6.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.4,4.6.4,False,False
464520,2014-08-01T00:31:32Z,2014-08-01T02:27:34Z,3.3.10,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=64&state=closed) closed.

## Bugs

### [#2250 Make sure MsmqWorkerAvailabilityManager is thread safe on .NET 4 in NSB 3.3.9](https://github.com/Particular/NServiceBus/pull/2250)

`MsmqWorkerAvailabilityManager.ClearAvailabilityForWorker()` throws ""System.InvalidOperationException: Property ResponseQueue was not retrieved when receiving the message. Ensure that the PropertyFilter is set correctly"" if you put some stress on it with NSB 3.3.9 on .NET 4+.

The problem is that Microsoft made almost everything on MessageQueue NOT thread safe between .NET 3.5 and .NET 4. 

3.5 docu: http://msdn.microsoft.com/en-us/library/system.messaging.messagequeue(v=vs.90).aspx vs
4 docu: http://msdn.microsoft.com/en-us/library/system.messaging.messagequeue(v=vs.100).aspx

Those changes by Microsoft makes the MsmqWorkerAvailabilityManager implementation in 3.3.9 not safe, as it needs locking to work. The proposed fix, which fixes the repro, is basically to revert  @7de28f8f1dbfdf39a810800b841b0df49f02aac6. Bad luck on that one, @andreasohlund. :)

Check out repro, available [here](https://github.com/janovesk/nsb-msmqdotnet4bug).

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/pull/2250)_

## Where to get it

You can download this release from [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/464520/assets,https://api.github.com/repos/Particular/NServiceBus/releases/464520,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.10,https://github.com/Particular/NServiceBus/releases/tag/3.3.10,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.10,3.3.10,False,False
462365,2013-07-11T01:56:22Z,2014-07-31T09:01:42Z,4.0.0,"## Compatibility and Upgrades

### Prerequisite: NServiceBus V4.0 requires RavenDB 2.0.0.2261 or later

NServiceBus V4.0 requires the latest RavenDB v2.x to be installed on the same machine. 
- You can manually validate the currently installed version of RavenDB  by connecting to the RavenDB instance (http://localhost:8080) and examining the bottom status bar where the server and client build numbers are noted. Build numbers prior to 2000 indicate a RavenDB version earlier than 2.x.
- If there is no existing and active installation of RavenDB v2.x on the machine, the NServiceBus installer automatically installs RavenDB v2.x.
- If the NServiceBus V4.0 installer finds a RavenDB version prior to 2.x on the target machine, it installs a new instance of RavenDB v2.x with no impact on the existing instance.

### NServiceBus V4.0 is not compatible with NServiceBus V2.6 (or earlier)

As you can see, a large number of features were added to NServiceBus. As a result, NServiceBus V4.0 is not compatible with NServiceBus V2.6. Furthermore, only messages marked as events (IEvent or DefiningEventsAs()) will be auto-subscribed.

### PowerShell cmdlets - breaking changes

NServiceBus.Host no longer supports /installinfrastructure. Use PowerShell cmdlets instead.
PowerShell cmdlets have been renamed so that they do not clash with any existing cmdlets. See details below.

### Autosubscriptions

Only messages marked as events (IEvent or DefiningEventsAs()) will be auto-subscribed.

### Default transaction isolation level

The default transaction isolation level is now ReadCommitted. To revert to Serializable, use this code:

```
Configure.Transactions.Advanced(settings => 
   settings.IsolationLevel(IsolationLevel.Serializable));
```

### Working with Error and Audit queues

The Management Service (installed with NServiceBus V4.0) consumes the messages from the defined MSMQ Error and Audit queues. While the Management Service is running, you can view the the Error messages by viewing the Error.log queue, and auditing data can be viewed using [ServiceInsight](http://particular.net/ServiceInsight). You can manage the Management Service (named ""Particular.Management"") like any other Windows Service (see MSDN article on how to ""[Start, stop, pause, resume, or restart a service](http://technet.microsoft.com/en-us/library/cc736564%28v=ws.10%29.aspx)""). 

### Callback behaviour when scaling out

When using a broker based transport endpoints will use a unique input per machine by default unless running the NServiceBus Host in `As_aServer` or `As_aPublisher`. This ensures callbacks work as expected when scaling out. If you are not using callbacks use `Configure.ScaleOut(s=>s.UseSingleBrokerQueue());` to use the same central queue.

### Namespace changes to Types and Interfaces

**INeedInitialization**: Prior to NServicebus 4.0, The interface INeedInitialization was defined in NServiceBus.Config. In NServicebus 4.0, it is defined at the higher namespace level, i.e NServiceBus. If you receive the following compiler error, please remove the using reference to NServiceBus.Config and resolve using NServiceBus: error CS0104:

```
'INeedInitialization' is an ambiguous reference between 'NServiceBus.INeedInitialization' and 'NServiceBus.Config.INeedInitialization'
```

**NServiceBus.WebService**: Exposing an endpoint as a WebService using `NServiceBus.Webservice<YourMessage, YourEnum>` has been deprecated in 4.0. Use the WcfService option instead. For example:

```
YourWcfService : WcfService<YourMessage, YourEnum>
```

**SecondLevelRetries**: The type SecondLevelRetries (used in the NServiceBus.Management.Retries namespace to configure the retry and the timeout policy) has been moved to the NServiceBus.Features namespace. While version 3.3.x had a separate policy for managing second level retries and timeouts, this has been merged into the new RetryPolicy in NServiceBus 4.0 and it is capable of achieving both functions.

**TransactionalTransport**: The type TransactionalTransport, which used to be defined in the namespace NServiceBus.Unicast.Transport.Transactional has been renamed to TransportReceiver and moved to the namespace NServiceBus.Unicast.Transport. If you receive the following compiler error, resolve using the new namespace specified above.

```
error CS0246: The type or namespace name 'TransactionalTransport' could not be found (are you missing a using directive or an assembly reference?)
```

## New Transports Support and Configuration

These new transport samples were added to the NServiceBus samples, illustrating how to configure the new transports:
- Messaging.ActiveMQ
- Messaging.RabbitMQ
- Messaging.SqlServer
- Messaging.MSMQ

**New configuration APIs** simplify the transports configuration and make it consistent across all transports. In your config file, specify a connection string, like this:

```
<connectionStrings>
<!-- MSMQ -->
<add name=""NServiceBus/Transport"" connectionString=""deadLetter=true;
   journal=true;useTransactionalQueues=true;
   cacheSendConnection=true""/>
<!-- ActiveMQ -->
<add name=""NServiceBus/Transport"" 
   connectionString=""ServerUrl=activemq:tcp://localhost:61616""/>
<!-- RabbitMQ-->
<add name=""NServiceBus/Transport"" 
   connectionString=""host=localhost""/>
<!-- SqlServer -->
<add name=""NServiceBus/Transport"" 
   connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=nservicebus;
   Integrated Security=True""
/>
</connectionStrings>
```

You then have two options to specify the transport:
Specify it as part of the `IConfigureThisEndpoint` class declaration, e.g.:

```
public class  EndpointConfig : IConfigureThisEndpoint, AsA_Server, 
       UsingTransport<RabbitMQ>
```

Or specify it in the `IWantCustomInitialization.Init` method, 

```
public class EndpointConfig : IConfigureThisEndpoint, AsA_Server, 
IWantCustomInitialization
{
   public void Init(){
      Configure.With().DefaultBuilder()
         .UseTransport<RabbitMQ>()
   }
}
```

### New NuGet packages for the new transports

These NuGet packages are also available:
- [NServiceBus.SqlServer](https://nuget.org/packages/NServiceBus.SqlServer/)
- [NServiceBus.ActiveMQ](https://nuget.org/packages/NServiceBus.ActiveMQ/)
- [NServiceBus.RabbitMQ](https://nuget.org/packages/NServiceBus.RabbitMQ/)

Example of how to install the NServiceBus.ActiveMQ package

```
PM> Install-Package NServiceBus.ActiveMQ
```

### New Transport DLLs

Add a reference to the new transport DLLs (in the Binaries directory):
- NServiceBus.Transports.RabbitMQ.dll
- NServiceBus.Transports.SQlServer.dll
- NServiceBus.Transports.ActiveMQ.dll

MSMQ is currently in NServiceBus.Core.dll and does not require any additional reference. NuGet adds the reference automatically.

## Configuration Changes

**XmlMessageSerializer** now supports not wrapping messages in a <messages> element for single messages. This makes interoperability with other systems easier.
To turn on this feature:

```
.XmlSerializer( dontWrapSingleMessages: true )
```

The **MsmqTransportConfig** section has been deprecated in favour of TransportConfig section, like this:

```
<section name=""TransportConfig"" 
   type=""NServiceBus.Config.TransportConfig, NServiceBus.Core""/>
<TransportConfig MaximumConcurrencyLevel=""10"" MaxRetries=""3"" 
   MaximumMessageThroughputPerSecond=""10""/>
```

**INeedToInstallSomething**: The INeedToInstallSomething interface is now resolved via the container.

### NHibernate Configuration

NHibernate settings have been simplified, as follows:

```
<appSettings><
!-- dialect is the only required NHibernate property -->
<add key=""NServiceBus/Persistence/NHibernate/dialect""
   value=""NHibernate.Dialect.MsSql2008Dialect""/>
<!-- other optional settings examples -->
<add key=""NServiceBus/Persistence/NHibernate/connection.provider"" 
   value=""NHibernate.Connection.DriverConnectionProvider""/>
<add key=""NServiceBus/Persistence/NHibernate/connection.driver_class""
   value=""NHibernate.Driver.Sql2008ClientDriver""
/>

<!-- For more settings: 
see http://www.nhforge.org/doc/nh/en/#configuration-hibernatejdbc 
and http://www.nhforge.org/doc/nh/en/#configuration-optional 
-->
</appSettings><
connectionStrings>
<!-- Default connection string for all Nhibernate/Sql persisters -->
<add name=""NServiceBus/Persistence"" 
   connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=nservicebus;
   Integrated Security=True""/>
<!-- Optional overrides per persister -->
<add name=""NServiceBus/Persistence/NHibernate/Timeout"" 
   connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=timeout;
   Integrated Security=True""/>
<add name=""NServiceBus/Persistence/NHibernate/Saga"" 
   connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=sagas;
   Integrated Security=True""/>
<add name=""NServiceBus/Persistence/NHibernate/Subscription""
   connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=subscription;
   Integrated Security=True""/>
<add name=""NServiceBus/Persistence/NHibernate/Gateway"" 
   connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=gateway;
Integrated Security=True""/>
<add name=""NServiceBus/Persistence/NHibernate/Distributor""
connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=distributor;
Integrated Security=True""/>
</connectionStrings>
```

### Performance Counters

New throughput performance counters and updated performance counters are available:

### NServiceBus license installed per machine

Licenses can now be installed in HKLM, allowing you to install one license per server instead of installing a license per endpoint or per Windows account.

```
LicenseInstaller.exe C:\License.xml
```

## Powershell cmdlet Updates

NServiceBus PowerShell cmdlets have moved to NServiceBus.PowerShell.dll. To import it, run this:

```
PM> Import-Module .\NServiceBus.PowerShell.dll
```

NServiceBus Powershell cmdlets have been renamed so they do not clash with any existing cmdlets:
- Installs a NServiceBus license file.
  `Install-NServiceBusLicense`
- Displays all messages in a queue.
  `Get-NServiceBusMSMQMessage`
- Displays the NServiceBus installed version.
  `Get-NServiceBusVersion`
- Installs DTC on the machine.
  `Install-NServiceBusDTC`
- Installs RavenDB on the machine.
  `Install-NServiceBusRavenDB`
- Installs NServiceBus performance counters on the machine.
  `Install-NServiceBusPerformanceCounters`
- Installs MSMQ on the machine.
  `Install-NServiceBusMSMQ`
- Validates if DTC is installed and running on the machine.
  `Test-NServiceBusDTCInstallation`
- Ensures RavenDB is on the machine.
  `Test-NServiceBusRavenDBInstallation`
- Validates that NServiceBus performance counters are correctly installed on the machine.
  `Test-NServiceBusPerformanceCountersInstallation`
- Validates MSMQ is correctly installed on the machine.
  `Test-NServiceBusMSMQInstallation`
- Adds the required configuration section to the config file.
  `Add-NServiceBusMessageForwardingInCaseOfFaultConfig`
- Shows the default error and audit queues.
  `Get-NServiceBusLocalMachineSettings`
- Allows specifying the default error and audit queues.
  `Set-NServiceBusLocalMachineSettings`
- NServiceBus.Host no longer supports /installinfrastructure. Use   PowerShell cmdlets instead.

## New Endpoint Configuration API

Sample usage:

```
Configure.Endpoint.AsSendOnly()
   .Advanced(settings => settings.DisableDurableMessages());
Configure.Transactions.Enable() 
   .Advanced(settings => settings.IsolationLevel(IsolationLevel.Serializable)
   .DefaultTimeout(TimeSpan.FromSeconds(40)) 
   .DisableDistributedTransactions()); 
```

## Embedded RavenDB

RavenDB is not ilmerged anymore. It is embedded instead, using  https://github.com/Fody/Costura#readme.
The embedding enables client updates (but may require binding redirects). It also allows passing your own DocumentStore, thereby providing full configuration flexibility. 
Audit and Error Queue Defaults  
Server defaults for audit and error queues can now be specified in the registry (see new PowerShell cmdlet Get/Set-NServiceBusLocalMachineSettings, above).

## Unattended Installation

The NServiceBus installer can be executed in quiet, unattended mode by running the following command:

```
Particular.NServiceBus-4.0.x.exe /q /l install.log
```

This will run the installer in quiet mode and create a log file called install.log. 
Note that the name of the installer file may differ from the above example, and that running the installer in quiet mode still opens a browser window to the Particular Software website when the installation is completed.

## Known Issues

ActiveMQ requires enabling the Scheduler.  
    You can do this by setting the schedulerSupport=""true"" attribute to the configuration in activemq.xml:

```
<broker ​xmlns=""http://activemq.apache.org/schema/core"" brokerName=""localhost"" 
dataDirectory=""${activemq.data}"" schedulerSupport=""true"">
```

ActiveMQ Client connection fails when hostname includes a hyphen  
    See https://issues.apache.org/jira/browse/AMQNET-399. 

### NMS Client for ActiveMQ

The release contains a custom build of Apache.NMS.ActiveMQ.1.5.6 client. This custom build fixes the following issues:
- [AMQNET-412  : Messages are enlisted to the wrong transaction](https://issues.apache.org/jira/browse/AMQNET-412)
- [AMQNET-413  : Message producers do not respect DTC Transactions correctly](https://issues.apache.org/jira/browse/AMQNET-413)
- [AMQNET-414  : Exception thrown when using DTC in multiple processes connected to the same broker](https://issues.apache.org/jira/browse/AMQNET-414)
- [AMQNET-416  : DTC Ressource ManagerID must be configurable](https://issues.apache.org/jira/browse/AMQNET-416)
- [AMQNET-417  : DTC Recovery should be done once for each application start](https://issues.apache.org/jira/browse/AMQNET-417)
- [AMQNET-418  : Recovery File Logger does not support multiple concurrent transactions](https://issues.apache.org/jira/browse/AMQNET-418)
- [AMQNET-419  : The MessageConsumer sometimes does not send a RemoveInfo when closed](https://issues.apache.org/jira/browse/AMQNET-419)
- [AMQNET-420  : Session does not pass correct last delivered message in the Remove Info](https://issues.apache.org/jira/browse/AMQNET-420)
- [AMQNET-421  : Replace Mutex by lock](https://issues.apache.org/jira/browse/AMQNET-421)
- [AMQNET-422  : Added support for transactions for Asyncronous Listeners](https://issues.apache.org/jira/browse/AMQNET-422)

The custom build will be removed as soon as the official NMS client is updated with the above fixes.   

### Installing RavenDB v2.x on a machine that already has RavenDB v1.x

When installing NServiceBus V4.x on a machine where an instance of RavenDB v1.x exists (default listening on port 8080), the installer will identify the existing RavenDB instance and try to capture the next available port (8081, 8082, etc.) instead of the default 8080 port. Once an available port is found, the installer installs RavenDB v2.x instance as a new Windows service, side-by-side with the existing RavenDB v1.x installation. 

By the end of the installation there will be two RavenDB services running side by side on the machine:
- RavenDB
- RavenDB v2

To uninstall RavenDB v2, follow these steps:
1. Open a command line and navigate to this directory: 
   `%Program Files%\NServiceBus.Persistence.V4`
2. Execute this command:
   `Raven.Server.exe –uninstall –service-name=RavenDB-v2`

Note that uninstalling NServiceBus (via the installer or through Control Panel > Programs) does not uninstall any RavenDB installations.  ​

###Transport samples do not work with Visual Studio 2010

All the new transports introduced with NServiceBus 4.0 do not work with Visual Studio 2010. The supplied samples currently work only with Visual Studio 2012. 

**Windows Azure**

Updated to the version 2.0 of the storage client.
NHibernate is no longer needed when using NServiceBus on Windows Azure (details).

**RabbitMQ**

Has improved support for high performance polymorphic pub/sub (details).
Thanks to Fawad Halim and Jeff Sogolov from ADP!

**NHibernate**

Sagas are now mapped using the table per concrete class strategy to avoid join tables when using base classes for sagas. This improves performance when reading/writing sagas to the database (details).

**SQL Server Transport**

NOTE: Due to schema changes from NServiceBus V4.0 Beta, to use SQL Server Transport with NServiceBus V4.0, delete any tables created with NServiceBus V4.0 Beta. 
- No longer using the deprecated timestamp column type ([details](https://github.com/NServiceBus/NServiceBus/issues/1117)).
- Machine name is no longer used in the address for broker based transports. This fixes and issue when scaled out subscribers would receive duplicate messages ([details](https://github.com/NServiceBus/NServiceBus/commit/2e8b481396a1bd26b48a88d23262d8abc8d63b09)).
- Uses the ROWLOCK hint to make sure that no table locks are used ([details](https://github.com/NServiceBus/NServiceBus/issues/1093)).
- Fixed a critical bug in the sql transport where a exception from a message handler would cause the message to be retried indefinitely ([details](https://github.com/NServiceBus/NServiceBus/issues/1091)).
- The video store sample has been improved with better naming and also displays how to use our InMemory support for domain events ([details](https://github.com/NServiceBus/NServiceBus/commit/74ee05eb6dd98fd956f0cbd7c37e626d018a7b9c)).
- Profiles are now working correctly when endpoints are installed as windows services ([details](https://github.com/NServiceBus/NServiceBus/issues/1112)).
- Impersonation support renamed to better reflect the actual use case for it ([details](https://github.com/NServiceBus/NServiceBus/issues/1104)).
- Improved the API for reacting to profiles being enabled ([details](https://github.com/NServiceBus/NServiceBus/pull/1105)).
- Switching between persistence technologies is now easier ([details](https://github.com/NServiceBus/NServiceBus/commit/6b9d1cb880eaa163b1fc1fa52bcff4253bf0ac3f)).
- ISagaStartedBy is now obsolete. To start sagas, use IAmStartedByMessages instead ([details](https://github.com/NServiceBus/NServiceBus/commit/8e23d3af3a57082398aeaeb58cb8900a23b4c079)).

### Installing NServiceBus on Windows Server 2012
- When installing NServiceBus v4 on Windows Server 2012, MSMQ must be installed manullay prior to NServiceBus installation. See MSDN article ""[Installing and Managing Message Queuing](http://technet.microsoft.com/en-us/library/cc771474.aspx)"" for more details.
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/462365/assets,https://api.github.com/repos/Particular/NServiceBus/releases/462365,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.0,https://github.com/Particular/NServiceBus/releases/tag/4.0.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.0,4.0.0,False,False
442789,2014-07-21T05:39:09Z,2014-07-22T01:45:45Z,4.5.2,"As part of this release we had 1 issue closed.

## Bugs

### [#2238 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2133)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2133)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/442789/assets,https://api.github.com/repos/Particular/NServiceBus/releases/442789,support-4.5,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.2,https://github.com/Particular/NServiceBus/releases/tag/4.5.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.2,4.5.2,False,False
442788,2014-07-21T05:38:33Z,2014-07-22T01:45:58Z,4.4.3,"As part of this release we had 1 issue closed.

## Bugs

### [#2238 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2133)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2133)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/442788/assets,https://api.github.com/repos/Particular/NServiceBus/releases/442788,support-4.4,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.3,https://github.com/Particular/NServiceBus/releases/tag/4.4.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.3,4.4.3,False,False
442786,2014-07-21T05:37:37Z,2014-07-22T01:46:06Z,4.3.5,"As part of this release we had 1 issue closed.

## Bugs

### [#2238 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2133)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2133)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/442786/assets,https://api.github.com/repos/Particular/NServiceBus/releases/442786,support-4.3,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.5,https://github.com/Particular/NServiceBus/releases/tag/4.3.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.5,4.3.5,False,False
442784,2014-07-21T05:36:57Z,2014-07-22T01:46:17Z,4.2.2,"As part of this release we had 1 issue closed.

## Bugs

### [#2238 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2133)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2133)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/442784/assets,https://api.github.com/repos/Particular/NServiceBus/releases/442784,support-4.2,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.2,https://github.com/Particular/NServiceBus/releases/tag/4.2.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.2,4.2.2,False,False
442781,2014-07-21T05:34:12Z,2014-07-22T01:46:26Z,4.1.3,"As part of this release we had 1 issue closed.

## Bugs

### [#2238 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2133)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2133)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/442781/assets,https://api.github.com/repos/Particular/NServiceBus/releases/442781,support-4.1,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.3,https://github.com/Particular/NServiceBus/releases/tag/4.1.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.3,4.1.3,False,False
442778,2014-07-21T05:03:46Z,2014-07-22T01:46:34Z,4.0.6,"As part of this release we had 1 issue closed.

## Bugs

### [#2238 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2133)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2133)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/442778/assets,https://api.github.com/repos/Particular/NServiceBus/releases/442778,support-4.0,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.6,https://github.com/Particular/NServiceBus/releases/tag/4.0.6,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.6,4.0.6,False,False
434407,2014-07-17T05:01:05Z,2014-07-17T06:44:34Z,4.6.3,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=63&state=closed) closed.

## Bugs

### [#2237 Timeouts could be delayed for longer then required](https://github.com/Particular/NServiceBus/issues/2237)

Some timeouts could be delayed firing for a maximum of 2 minutes

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/434407/assets,https://api.github.com/repos/Particular/NServiceBus/releases/434407,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.3,https://github.com/Particular/NServiceBus/releases/tag/4.6.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.3,4.6.3,False,False
434405,2014-07-17T05:02:50Z,2014-07-17T06:45:13Z,3.3.9,"As part of this release we had [2 issue](https://github.com/Particular/NServiceBus/issues?milestone=61&state=closed) closed.

## Bugs

### [#2175 Patch V3 to support ""non array wrapped"" messages](https://github.com/Particular/NServiceBus/issues/2175)

In version 3.3.8 and JSON we have hard coded the assumption that messages will be wrapped in an array 

https://github.com/Particular/NServiceBus/blob/3.3.8/src/impl/Serializers/NServiceBus.Serializers.Json/JsonMessageSerializerBase.cs#L53

```
public object[] Deserialize(Stream stream)
{
    JsonSerializer jsonSerializer = JsonSerializer.Create(JsonSerializerSettings);
    jsonSerializer.ContractResolver = new MessageContractResolver(_messageMapper);
    JsonReader reader = CreateJsonReader(stream);
    return jsonSerializer.Deserialize<object[]>(reader);
}
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/2175)_

### [#2238 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2238)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2238)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/434405/assets,https://api.github.com/repos/Particular/NServiceBus/releases/434405,support-3.3,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.9,https://github.com/Particular/NServiceBus/releases/tag/3.3.9,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.9,3.3.9,False,False
431727,2014-07-15T23:38:56Z,2014-07-16T00:19:46Z,4.6.2,"As part of this release we had [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=59&state=closed) closed.

## Bugs

### [#2133 If index is stale we may miss timeouts](https://github.com/Particular/NServiceBus/issues/2133)

When a user is using the Scheduler API and creates to schedule tasks, one that runs every 5secs and another one that runs every 1min.
Every so often the 5sec schedule task stops from reoccurring.

Here are the [logs](https://groups.google.com/group/particularsoftware/attach/c583cdf531a6f969/Flyt.TiosCtcAgent-log.txt?part=4)

And here is one of the timeouts stored in Raven:

``` json
{
  ""Destination"": {
    ""Queue"": ""Flyt.TiosCtcAgent"",
    ""Machine"": ""GMBSANNTID""
  },
  ""SagaId"": ""00000000-0000-0000-0000-000000000000"",
  ""State"": ""PD94bWwgdmVyc2lvbj0iMS4wIiA/Pg0KPE1lc3NhZ2VzIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vdGVtcHVyaS5uZXQvTlNlcnZpY2VCdXMuU2NoZWR1bGluZy5NZXNzYWdlcyI+CjxTY2hlZHVsZWRUYXNrPgo8VGFza0lkPmU2YjZlN2NmLTlmYjMtNDhiZS1iZGUwLTc0NmJhZmE3MmRlNzwvVGFza0lkPgo8TmFtZT5Cb290c3RyYXA8L05hbWU+CjxFdmVyeT5QVDVTPC9FdmVyeT4KPC9TY2hlZHVsZWRUYXNrPgo8L01lc3NhZ2VzPg0K"",
  ""Time"": ""2014-05-21T08:18:00.2114720Z"",
  ""CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
  ""OwningTimeoutManager"": ""Flyt.TiosCtcAgent"",
  ""Headers"": {
    ""NServiceBus.MessageId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.CorrelationId"": ""2f849e22-d760-4ce6-846b-a33200a9b784"",
    ""NServiceBus.OriginatingEndpoint"": ""Flyt.TiosCtcAgent"",
    ""$.diagnostics.originating.hostid"": ""522caf7d3f53a790fdcc328b6cb0d627"",
    ""NServiceBus.MessageIntent"": ""Send"",
    ""NServiceBus.Version"": ""4.4.2"",
    ""NServiceBus.TimeSent"": ""2014-05-21 08:17:55:211472 Z"",
    ""NServiceBus.OriginatingMachine"": ""GMBSANNTID"",
    ""NServiceBus.ContentType"": ""text/xml"",
    ""NServiceBus.EnclosedMessageTypes"": ""NServiceBus.Scheduling.Messages.ScheduledTask, NServiceBus.Core, Version=4.4.0.0, Culture=neutral, PublicKeyToken=9fc386479f8a226c"",
    ""CorrId"": ""2f849e22-d760-4ce6-846b-a33200a9b784\\0"",
    ""WinIdName"": ""GMBDOMENE1\\sanntidintegrasjon"",
    ""NServiceBus.RelatedTo"": ""5da0ead5-1701-4e2e-9b43-a33200a9b16e"",
    ""NServiceBus.ConversationId"": ""a00caaba-1eab-48a7-854f-a33100a5c243"",
    ""NServiceBus.IsDeferredMessage"": ""True"",
    ""NServiceBus.Temporary.DelayDeliveryWith"": ""00:00:05"",
    ""NServiceBus.Timeout.Expire"": ""2014-05-21 08:18:00:211472 Z"",
    ""NServiceBus.Timeout.RouteExpiredTimeoutTo"": ""Flyt.TiosCtcAgent@GMBSANNTID"",
    ""NServiceBus.Timeout.ReplyToAddress"": ""Flyt.TiosCtcAgent@GMBSANNTID""
  }
}
```

The only explanation I have is if the index is stale, we could end-up skipping over timeouts.

See [full issue](https://github.com/Particular/NServiceBus/issues/2133)

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/431727/assets,https://api.github.com/repos/Particular/NServiceBus/releases/431727,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.2,https://github.com/Particular/NServiceBus/releases/tag/4.6.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.2,4.6.2,False,False
309318,2014-05-08T02:25:31Z,2014-05-08T03:59:00Z,4.1.2,"As part of this release we had [5 commits](https://github.com/Particular/NServiceBus/compare/4.1.1...4.1.2) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=58&state=closed) being closed.

## Bugs

### [#2096 Autofac 3.0.0 leaks memory](https://github.com/Particular/NServiceBus/issues/2096)

When child containers is used. Fix is to upgrade Autofac to 3.0.1

From [Autofac Release Notes](https://code.google.com/p/autofac/wiki/ReleaseNotes)

> Rollback of  Issue 397  (Nested lifetime scopes aren't disposed when the parent is disposed) due to memory leak.

ported from https://github.com/Particular/NServiceBus/issues/1708

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)

## To apply the hotfix using Nuget

In Package Manager Console, type:

```
 update-package NServiceBus -version 4.1.2 <ProjectName>
```
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/309318/assets,https://api.github.com/repos/Particular/NServiceBus/releases/309318,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.2,https://github.com/Particular/NServiceBus/releases/tag/4.1.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.2,4.1.2,False,False
300055,2014-03-31T19:50:11Z,2014-05-02T11:49:53Z,4.2.1,"As part of this release we had [5 commits](https://github.com/Particular/NServiceBus/compare/4.2.0...4.2.1) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=55&state=closed) being closed.

## Bugs

### [#1943 Cant Send in 4.2 and Return in 3.x](https://github.com/Particular/NServiceBus/issues/1943)

When a 3.X endpoint does a `Bus.Return` that targets a 4.2.0 endpoint the v4 endpoint can't process the message. This makes it wire incompatible.

repro https://github.com/Particular/BugsRepro/tree/master/1943MissingCompletionMessage

So in a 4.2 endpoint 

```
Bus.Send(""Returner"", new Message())
  .Register<int>(i => Debug.WriteLine(i));
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1943)_

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/andreasohlund,125028,andreasohlund,https://api.github.com/repos/Particular/NServiceBus/releases/300055/assets,https://api.github.com/repos/Particular/NServiceBus/releases/300055,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.1,https://github.com/Particular/NServiceBus/releases/tag/4.2.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.1,4.2.1,False,False
299573,2014-05-02T03:49:51Z,2014-05-02T07:25:24Z,4.6.1,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/4.6.0...4.6.1) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=57&state=closed) being closed.

## Improvements

### [#2079 Re-Add CLS Compliance](https://github.com/Particular/NServiceBus/issues/2079)

Turns out some of our consumers actually need this 

Partially reverts https://github.com/Particular/NServiceBus/issues/1313

The difference is non CLS Compliant members will be marked as such. So assemblies will be ""CLS Compliant with exceptions""

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/299573/assets,https://api.github.com/repos/Particular/NServiceBus/releases/299573,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.1,https://github.com/Particular/NServiceBus/releases/tag/4.6.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.1,4.6.1,False,False
298047,2014-05-01T05:46:30Z,2014-05-01T06:30:31Z,4.6.0,"As part of this release we had [53 commits](https://github.com/Particular/NServiceBus/compare/4.5.1...4.6.0) which resulted in [14 issues](https://github.com/Particular/NServiceBus/issues?milestone=54&state=closed) being closed.

## Improvements

### [#2065 Assembly scanner improvements](https://github.com/Particular/NServiceBus/pull/2065)
- Allow to configure the Assembly scanner to not throw exceptions
- If we find a valid `IEndpointConfig`, we should skip scanning
- If there are errors, but if we can find endpoint config, we continue, but don't pass in bad assemblies.
  So only do this if there are no errors:

``` c#
 if (arguments.ScannedAssemblies.Count > 0 -- && no errors)
 {
 serviceCommandLine.AddRange(arguments.ScannedAssemblies.Select(assembly =>    String.Format(@""/scannedAssemblies:""""{0}"""""", assembly)));
 }
```
- The host should not throw, so that we can still start the endpoint `AppDomain` so that any binding redirects kick in
  _Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/pull/2065)_

### [#2012 Remove the warning when a 4.x endpoint receives an event from a 3.x pub, when the event is an interface. ](https://github.com/Particular/NServiceBus/pull/2012)
- Relates to #1834
- Refactored the MessageMetadataRegistry class. 
- Facilitated to remove the un-necessary warning which is displayed when a 3.x endpoint publishes an event which is an interface, where the 3.x endpoint added an __impl to the event type in the header. 

### [#1983 Obsolete IBus.InMemory](https://github.com/Particular/NServiceBus/issues/1983)

So there are several confusion of this API
- Do Mutators run?
- Is it run in the same transaction?
- can complex+deep messages be sent? do they need to be serialized?
- does encryption run? should they?
- are databus properties supported?
- can a saga be started from InMemory?
- does the inMemory handler get an isolated set of headers or are they shared with the original message?
- of the standard message actions (Send, Publish, Reply, Return, Timeout) what ones does InMemory support?
- do FLR and SLR come into play?
  _Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1983)_

### [#1893 When a message is forwarded to the error queue, the stack trace of the exception is too large](https://github.com/Particular/NServiceBus/issues/1893)

When a message is forwarded to the error queue, the stack trace that is stored in the header information for the message in the error queue is currently too long. We should include the inner exception that caused the problem instead of the entire stack trace which includes the entire pipeline steps.

### [#1313 Remove CLS compliance](https://github.com/Particular/NServiceBus/issues/1313)

So in all our assembly attributes we say we are CLS compliant. However we are not. See warnings below

We need to do some significant breaking changes to achieve this.

```
Warning 58  Type of 'EasyNetQ.ConnectionFactoryInfo.ConnectionFactory' is not CLS-compliant C:\Code\NServiceBus\src\RabbitMQ\NServiceBus.RabbitMQ\EasyNetQ\ConnectionFactoryInfo.cs 13  34  NServiceBus.Transports.RabbitMQ
Warning 52  Type of 'EasyNetQ.HostConfiguration.Port' is not CLS-compliant  C:\Code\NServiceBus\src\RabbitMQ\NServiceBus.RabbitMQ\EasyNetQ\HostConfiguration.cs 6   23  NServiceBus.Transports.RabbitMQ
Warning 51  Type of 'EasyNetQ.IHostConfiguration.Port' is not CLS-compliant C:\Code\NServiceBus\src\RabbitMQ\NServiceBus.RabbitMQ\EasyNetQ\IHostConfiguration.cs    6   16  NServiceBus.Transports.RabbitMQ
Warning 41  Type of 'NServiceBus.SagaPersisters.Azure.DictionaryTableEntity.this[string]' is not CLS-compliant  C:\Code\NServiceBus\src\azure\NServiceBus.Azure\SagaPersisters\Azure\DictionaryTableEntity.cs   154 31  NServiceBus.Azure
Warning 123 Type of 'NServiceBus.Serializers.XML.Test.MessageWithLists.SBytes' is not CLS-compliant C:\Code\NServiceBus\src\NServiceBus.Core.Tests\Serializers\XML\ListTests.cs 76  28  NServiceBus.Core.Tests
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1313)_

## Bugs

### [#2064 NServiceBus Host 4.5.0 causing assembly scanning exception](https://github.com/Particular/NServiceBus/issues/2064)

After upgrading to 4.5, I've started to get an exception with the NServiceBus Host:

```
Unhandled Exception: System.Exception: Could not enumerate all types for 'C:\Ser
vices\Server\FluentNHibernate.dll'.

   at NServiceBus.Hosting.Helpers.AssemblyScanner.ScanAssembly(String assemblyPa
th, AssemblyScannerResults results) in c:\BuildAgent\work\31f8c64a6e8a2d7c\src\N
ServiceBus.Core\Hosting\Helpers\AssemblyScanner.cs:line 149
   at NServiceBus.Hosting.Helpers.AssemblyScanner.GetScannableAssemblies() in c:
\BuildAgent\work\31f8c64a6e8a2d7c\src\NServiceBus.Core\Hosting\Helpers\AssemblyS
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/2064)_

### [#2061 Registry trial license cannot be written using default LocalSystem](https://github.com/Particular/NServiceBus/issues/2061)

The trial license won't work if NServiceBus is running as LocalSystem
Here is the error:

```
2014-04-17 14:29:21,257 [4] FATAL NServiceBus.Licensing.LicenseManager [(null)] <(null)> - Could not access registry for the current user sid. Please ensure that the license has been properly installed.
```

And this is on purpose because LocalSystem does not have a HKCU, see https://github.com/Particular/NServiceBus/blob/develop/src/NServiceBus.Core/Licensing/LicenseManager.cs#L53

### [#2057 EndpointConfig.cs can get overwritten](https://github.com/Particular/NServiceBus/issues/2057)

When `IConfigureThisEndpoint` implementation is in a different project `EndpointConfig.cs` content gets replaced with the default empty template.

To replicate this create a VS solution with 2 2 projects and in proj1 add:

``` c#
public abstract class BaseClass : IConfigureThisEndpoint, IWantCustomInitialization
{
    public void Init()
    {
    }
}
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/2057)_

## Where to get it

You can download this release from [nuget](https://www.nuget.org/packages/NServiceBus)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/298047/assets,https://api.github.com/repos/Particular/NServiceBus/releases/298047,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.6.0,https://github.com/Particular/NServiceBus/releases/tag/4.6.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.6.0,4.6.0,False,False
284016,2014-04-23T01:55:48Z,2014-04-23T02:06:45Z,4.5.1,"As part of this release we had [2 commits](https://github.com/Particular/NServiceBus/compare/4.5.0...4.5.1) which resulted in [1 issue](https://github.com/Particular/NServiceBus/issues?milestone=56&state=closed) being closed.

## Bugs

### [#2058 When starting a new NServiceBus Host as a standard user, exception occurs during the check for license](https://github.com/Particular/NServiceBus/issues/2058)

**Steps to repro**
1. Create a NSB host (which is not started as administrator)
2. Run the nservicebus.host /install to create the queues and make it run as a user who is a Standard User. 
3. The service fails to start. See the following exception:

```
2014-04-16 12:09:29,107 [5] INFO  NServiceBus.Configure [(null)] <(null)> - Invocation of NServiceBus.IWantToRunBeforeConfiguration completed in 0.08 s
2014-04-16 12:09:29,270 [5] INFO  NServiceBus.Configure [(null)] <(null)> - Invocation of NServiceBus.Config.INeedInitialization completed in 0.00 s
2014-04-16 12:09:29,278 [5] FATAL NServiceBus.Hosting.GenericHost [(null)] <(null)> - Exception when starting endpoint.
System.Exception: Failed to access 'HKEY_LOCAL_MACHINE : SOFTWARE\ParticularSoftware : License'. Do you have permission to write to this key? ---> System.UnauthorizedAccessException: Access to the registry key 'HKEY_LOCAL_MACHINE\SOFTWARE\ParticularSoftware' is denied.
   at Microsoft.Win32.RegistryKey.Win32Error(Int32 errorCode, String str)
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/2058)_

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/284016/assets,https://api.github.com/repos/Particular/NServiceBus/releases/284016,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.1,https://github.com/Particular/NServiceBus/releases/tag/4.5.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.1,4.5.1,False,False
272718,2014-04-14T18:41:43Z,2014-04-16T16:18:17Z,4.5.0,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=50&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.4.1...4.5.0).

## Features

### [#1953 Improve the experience for first time users installing NServiceBus via NuGet](https://github.com/Particular/NServiceBus/issues/1953)

This only applies to new users. If we detect that NServiceBus/the platform is already installed on their machine we do nothing. Existing installs can be detected in 2 ways:
1. The [""MachinePrepared""](https://github.com/Particular/NServiceBus/blob/77c1b837b2b08898268fddda0ef235e4aa7f8961/packaging/nuget/tools/init.ps1#L19) regkey
2. The platform installer hasn't been installed (will be introduced when the PI is ready - TBD sync with the PI specs)

##### Scenarios

###### New user joining an existing team opening up the solution for the first time

init.ps1 will detect this and pop this page in the vs browser:
http://particular.net/download-the-particular-service-platform?version={nservicebus version}

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1953)_

## Improvements

### [#2023 Update the license dialog to the new platform design](https://github.com/Particular/NServiceBus/issues/2023)

This depends on the license pull 

https://github.com/Particular/NServiceBus/pull/2022

### [#1991 Change unlicensed behaviour to be even more safe for production](https://github.com/Particular/NServiceBus/issues/1991)

##### Relax current behaviour
- [x] Remove the 1 msg/s throttling
- [x] Remove the MaxWorkerNodes limitation from the distributor (please confirm @udidahan )

##### Introduce new behaviour when no valid license is found

Relates to #1993 

### [#1965 Provide icon to NServiceBus.Host.exe](https://github.com/Particular/NServiceBus/issues/1965)

It would be nice if you setup application icon in nservicebus.host.exe. This icon could simplify recognizing if this app on my task bar is `nservicebus.host.exe` or maybe `ConsoleApplication11.exe`. The same when I'm looking for `nservicebus.host.exe` in windows explorer.

## Bugs

### [#2051 Workers use the wrong reply to address](https://github.com/Particular/NServiceBus/issues/2051)

The reply to address of the workers are wrongly rewritten the distributors control address instead of the main address

This was broken in 4.4.2 by this change:

https://github.com/Particular/NServiceBus/commit/54a1da36b96500ac9807ed85828a5698bb607519

### [#2036 LicenseExpirationChecker.HasLicenseDateExpired throws exception](https://github.com/Particular/NServiceBus/issues/2036)

```
Unhandled Exception: System.ArgumentOutOfRangeException: The added or subtracted value results in an un-representable Da
teTime.
Parameter name: value
   at System.DateTime.AddTicks(Int64 value)
   at Particular.Licensing.LicenseExpirationChecker.HasLicenseDateExpired(DateTime licenseDate) in c:\Projects\NServiceB
us\src\NServiceBus.Core\App_Packages\Particular.Licensing\LicenseExpirationChecker.cs:line 28
   at Particular.Licensing.LicenseExpirationChecker.HasLicenseExpired(License license) in c:\Projects\NServiceBus\src\NS
erviceBus.Core\App_Packages\Particular.Licensing\LicenseExpirationChecker.cs:line 9
   at NServiceBus.Licensing.LicenseManager.InitializeLicense() in c:\Projects\NServiceBus\src\NServiceBus.Core\Licensing
\LicenseManager.cs:line 99
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/2036)_

### [#2001 Trial dialog corrupting SynchronizationContext](https://github.com/Particular/NServiceBus/issues/2001)

So when we show a windows form dialog it will set  (or overwrite) the `SynchronizationContext.Current`. This will result in callbacks being executed on `SynchronizationContext` of the dialog and not the `SynchronizationContext` of the executing process..

So the proposal for fixing this is to 
- store `SynchronizationContext.Current`
- show license dialog
- pass the stored `SynchronizationContext` back to `SynchronizationContext.SetSynchronizationContext`

Thoughts?

### [#1972 log4net.Core.Level.ToString not found](https://github.com/Particular/NServiceBus/issues/1972)

If you configure your endpoint to use log4net like this:

```
        XmlConfigurator.Configure();
        Configure.With()
            .Log4Net()
            .AutofacBuilder(container)
            .FileShareDataBus(BasePath)
            .RavenSubscriptionStorage()
            .UseRavenTimeoutPersister()
            .UnicastBus();
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1972)_

### [#1947 Exceptions during startup is no longer logged in 4.3.0](https://github.com/Particular/NServiceBus/issues/1947)

If you use the regular host and an exception is thrown in either IWantCustomInitialization or INeedInitialization (and probably others), no error is logged. Instead, the service just dies with no indication of what the error was. This makes it quite difficult to troubleshoot errors when the host runs as a service.

This used to be logged as a fatal error in NSB 3.3.

### [#1827 SingleCallChannelReceiver doesn't work with unity](https://github.com/Particular/NServiceBus/issues/1827)

`SingleCallChannelReceiver` doesn't work with `UnityBuilder`.

Logs with `UnityBuilder`:

```
2013-12-02 10:04:43.9703 DEBUG NServiceBus.Gateway.Receiving.IdempotentChannelReceiver Received message of type SingleCallSubmit for client id: 4e5cde3c-b09e-4943-8379-b5a5f88d589e 
2013-12-02 10:04:43.9863 DEBUG NServiceBus.Gateway.Channels.Http.HttpChannelReceiver Sending HTTP 200 response. 
2013-12-02 10:04:44.0143 DEBUG NServiceBus.Gateway.Channels.Http.HttpChannelReceiver Http request processing complete.
```

When I change builder from `UnityBuilder` to `DefaultBuilder` log looks like this:

```
2013-12-02 10:18:44.5661 DEBUG NServiceBus.Gateway Received message of type SingleCallSubmit for client id: 9a85fc19-dd91-411d-9f82-2f7c793236ed 
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1827)_

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/andreasohlund,125028,andreasohlund,https://api.github.com/repos/Particular/NServiceBus/releases/272718/assets,https://api.github.com/repos/Particular/NServiceBus/releases/272718,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.5.0,https://github.com/Particular/NServiceBus/releases/tag/4.5.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.5.0,4.5.0,False,False
202908,2014-02-27T14:27:35Z,2014-02-27T18:49:56Z,4.4.2,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=53&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.4.1...4.4.2).

## Bugs

### [#1979 Subscriptions pointing to wrong queue when local address is overriden](https://github.com/Particular/NServiceBus/issues/1979)

They point to the endpointname instead of the override. It was caused by logic related to the distributor that always changed the replyto header of subscription messages to the endpoint name.

It was discovered by investigating a windows azure related issue:  https://github.com/Particular/NServiceBus.Azure/issues/122 

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/yvesgoeleven,471354,yvesgoeleven,https://api.github.com/repos/Particular/NServiceBus/releases/202908/assets,https://api.github.com/repos/Particular/NServiceBus/releases/202908,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.2,https://github.com/Particular/NServiceBus/releases/tag/4.4.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.2,4.4.2,False,False
200990,2014-02-26T10:10:27Z,2014-02-26T12:14:33Z,,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=52&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.4.0...4.4.1).

## Bugs

### [#1964 Failure to configure bus from command line application](https://github.com/Particular/NServiceBus/issues/1964)

I have a simple console application that configures a bus (MSMQ) and sends a single message. Between version 4.3.4 and 4.4.0 the application has stopped working with the exception in the stack trace below.

Note that this only happens when running from a command window. It does not happen when running from visual studio (using host process or not). In both cases I am running in a non-elevated context.

In case it is down to user error, here is the guts of the bus configuration code that is failing:

``` C#
Configure.Serialization.Xml();
bus = Configure.With()
    .Log4Net()
    .DefaultBuilder()
```

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1964)_

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/yvesgoeleven,471354,yvesgoeleven,https://api.github.com/repos/Particular/NServiceBus/releases/200990/assets,https://api.github.com/repos/Particular/NServiceBus/releases/200990,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.1,https://github.com/Particular/NServiceBus/releases/tag/4.4.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.1,4.4.1,False,False
182545,2014-02-10T00:04:08Z,2014-02-12T04:29:55Z,4.4.0,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=44&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.3.4...4.4.0).

Before applying this release it is recommended that your read the [release notes for 4.3.4](https://github.com/Particular/NServiceBus/releases/tag/4.3.4) to check if the issue #1925 applies to you. [#1925 When using NServiceBus version 4.3.x and an event is sent through a Distributor it is incorrectly received by multiple workers instead of just one. ](https://github.com/Particular/NServiceBus/issues/1925)

## Improvements

### [#1905 Add `OriginatingHostId` and `ProcessingHostId` headers that represent the current ""host""](https://github.com/Particular/NServiceBus/issues/1905)

We currently have the `ProcessingMachine` and `OriginatingMachine` headers. These do not accurately reflect all concepts of a ""Host"". For example when hosting in Azure.

So the headers `OriginatingHostId`, `HostId` and `HostDisplayName` have been added to be environment agnostic where ""machine"" does not make sense.

The headers `ProcessingMachine` and `OriginatingMachine` have been marked as obsolete and will be removed in 5.0.

### [#1872 Raise a critical exception if `IWantToRunWhenBusStartsAndStops` `Start` or `Stop` throws an exception](https://github.com/Particular/NServiceBus/issues/1872)

Currently if the `IWantToRunWhenBusStartsAndStops` methods `Start` or `Stop` throw an exception the endpoint still starts.

This can hides critical issues from the user.

We now raise a critical exception that will shutdown the bus.

### [#1627 Prefer TryGetValue instead of ContainsKey + Item lookups ](https://github.com/Particular/NServiceBus/issues/1627)

So a `ContainsKey` + Item lookup takes approx twice as long as a `TryGetValue`

While this is a micro-optimization the correct approach, that uses `TryGetValue`, is actually just as readable. 

## Bugs

### [#1902 A `Stop` and `Start` of the Bus causes a `NullReferenceException` inside event subscriptions](https://github.com/Particular/NServiceBus/issues/1902)

### [#1889 Timeout messages can incorrectly end up in error queue after Bus restart](https://github.com/Particular/NServiceBus/issues/1889)

When the bus is restarted using `Bus.Start()`, `Bus.Shutdown()` then `Bus.Start()` timeout messages can throw an exception and end up in the error queue.

If a saga message handler requests any timeouts, the message being handled is rolled back and always ends up in error queue.

### [#1888 Manual manipulating the Gateway Ack to be `false` will result in a `true` Ack](https://github.com/Particular/NServiceBus/issues/1888)

If a `false` is passed in the Ack header `AutoAck` will still be set to `true`

### [#1885 When self hosting messages are lost after `IStartableBus.Shutdown()` followed with `IStartableBus.Start()`](https://github.com/Particular/NServiceBus/issues/1885)

When self hosting, all messages are lost after restarting the bus (ie calling `Shutdown` followed by `Start` on `IStartableBus`.

Messages are removed from the queue but no handlers are called.

### [#1871 InMemory.Raise throws when using CastleWindsorBuilder](https://github.com/Particular/NServiceBus/issues/1871)

Due to the pipeline not wrapping `InMemory.Raise` in a child container an exception can be thrown

```
InvalidOperationException: Scope was not available. Did you forget to call container.BeginScope()?
```

### [#1478 Remove hard coded 20 sec limit on `IWantToRunWhenBusStartsAndStops.Stop`](https://github.com/Particular/NServiceBus/issues/1478)

In v4 `IWantToRunWhenBusStartsAndStops.Stop` is only allowed to run for a maximum of 20 seconds.

This limitation may not allow tasks to be completed successfully before shutting down the Windows service.

As such this timeout has been removed.

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/182545/assets,https://api.github.com/repos/Particular/NServiceBus/releases/182545,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.4.0,https://github.com/Particular/NServiceBus/releases/tag/4.4.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.4.0,4.4.0,False,False
170355,2014-02-02T21:52:05Z,2014-02-05T21:43:28Z,4.3.4,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=51&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.3.3...4.3.4).

## Bugs

### [#1925 When using NServiceBus version 4.3.x and an event is sent through a Distributor it is incorrectly received by multiple workers instead of just one. ](https://github.com/Particular/NServiceBus/issues/1925)

When using the distributor in version `4.3.x`, and the workers are subscribing to an event, having the message mapping for the event in the app.config of the worker causes each worker to handle the event, instead of just one worker.

**If you are affected by this bug:**
- Update your distributor/worker endpoints to the the 4.3.4 hotfix release.
- Inspect the current subscription entries for the publisher. Remove any extra subscription entries that are already registered for the workers for the event. 
- Restart your endpoint. 

##### How to delete your subscription entries when using RavenDB persistence:

###### 1 Open the Raven Management Studio

Browse to your RavenDB url. if RavenDB is installed using the default ports the url is either http://servername:8080 or http://servername:8081, otherwise use the appropriate port number.

###### 2 Find the correct database

Identify the database of the publisher endpoint (the database name matches the endpoint name) and double click to open the database.
![image](https://f.cloud.github.com/assets/854553/2084411/46442fb6-8e21-11e3-9f9b-63e31f53fa50.png)

###### 3 Identify the subscription

You will see the subscriptions list. If there are multiple subscription documents, Identify the subscription document based on the event type.  For example,  `Example.Messages.Events.MyEvent` as specified in the `MessageType` column.
![image](https://f.cloud.github.com/assets/854553/2084414/64545a8a-8e21-11e3-9e40-cbb97e469881.png)

###### 4 Delete the erroneous subscribers

Double click on the document to open the subscription list. Select the worker nodes that have been erroneously subscribed to the event and press delete.
![image](https://f.cloud.github.com/assets/854553/2090460/d49c60a8-8e94-11e3-902f-08c0cd922bb1.png)

Once the entries are removed, click on Save to save the document.
![image](https://f.cloud.github.com/assets/854553/2090480/0e41d9dc-8e95-11e3-8aa6-1c9f8b881d49.png)

##### How to delete your subscription entries when using NHibernate persistence:

###### 1 Find your Database in SQL Management Studio

Using Microsoft SQL Management Studio, connect to the appropriate persistence database specified in the `NServiceBus/Persistence` connection string in the app.config of the endpoint

``` xml
<connectionStrings>
 <add name=""NServiceBus/Persistence"" connectionString=""Data Source=.\SQLEXPRESS;Initial Catalog=NSERVICEBUS;Integrated Security=True"" />
</connectionStrings>
```

###### 2 Delete the erroneous subscribers

Find out the erroneous subscribers by running

``` sql
select * 
    FROM [NServiceBus].[dbo].[Subscription]
    where TypeName='Example.Messages.Events.MyEvent'
```

To clear out the subscriptions for the event `Example.Messages.Events.MyEvent`, delete the subscription entries for the workers. For example:

``` sql
delete
    FROM [NServiceBus].[dbo].[Subscription]
    where TypeName='Example.Messages.Events.MyEvent'
    and SubscriberEndpoint in ('Example.NServiceBus.Worker@machine1', 'Example.NServiceBus.Worker@machine2')
```

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/170355/assets,https://api.github.com/repos/Particular/NServiceBus/releases/170355,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.4,https://github.com/Particular/NServiceBus/releases/tag/4.3.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.4,4.3.4,False,False
157082,2014-01-22T19:37:11Z,2014-01-22T19:53:22Z,4.3.3,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=48&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.3.2...4.3.3).

## Bugs

### [#1910 V4.3 subscribers fail to subscribe to V3.X publishers](https://github.com/Particular/NServiceBus/issues/1910)

Version 4.3.0 introduced a bug where the NServiceBus.Version header didn't get populated for the control messages containing the subscribe/unsubscribe requests. This meant that our mutators didn't mutate them correctly causing the requests to be misinterpreted.

Affected transports: Msmq, SqlServer

Repro
- Clone this https://github.com/gbiellem/PubSubRepro
- Set as startup MyPublisher (3.3.8), Subscriber1 (4.3) and Subscriber2 (4.3)
- Start
- Press Enter in  the publisher
- Message not received by subscribers

_Content trimmed. See [full issue](https://github.com/Particular/NServiceBus/issues/1910)_

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/andreasohlund,125028,andreasohlund,https://api.github.com/repos/Particular/NServiceBus/releases/157082/assets,https://api.github.com/repos/Particular/NServiceBus/releases/157082,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.3,https://github.com/Particular/NServiceBus/releases/tag/4.3.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.3,4.3.3,False,False
136410,2014-01-03T10:47:03Z,2014-01-03T10:58:17Z,4.3.2,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=46&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.3.1...4.3.2).

## Bugs

### [#1861 When using Azure ServiceBus, not passing in the endpoint address for subscriptions causes a null reference exception.](https://github.com/Particular/NServiceBus/issues/1861)

When we fixed issue #1837 in version `4.3.1`, a check was added to ignore the address count and call the `SubscriptionManager.Subscribe` passing in null as the endpoint address for brokered transports with centralized pub sub support. While it works for ActiveMQ and RabbitMQ, the azure transport expects an address. Passing in null causes a NRE.

### [#1852 Read license from a version agnostic location, so that existing licenses need not be re-installed for newer releases](https://github.com/Particular/NServiceBus/issues/1852)

Our current way of handling licenses in the registry is wrong since it looks for a subkey containing the {major}.{minor}. This means that users that have installed a 4.2/4.3 license will have to reinstall it again for 4.4 even though the license it self is valid for 4.4

### [#1851 Bus failing to publish interface-defined event when messageConstructor not defined](https://github.com/Particular/NServiceBus/issues/1851)

When publishing using interface-defined events and when the messageConstructor not defined, an exception is thrown and the event is not published.

### [#1845 Remove Get-NServiceBusVersion commandlet](https://github.com/Particular/NServiceBus/issues/1845)

Get-NServiceBusVersion commandlet reported the version of `NServiceBus.Powershell.dll` and not the version of the NSB within the solution. NServiceBus.Powershell dll has been separated from the core in order that it could be released independantly of the core if need be. This commandlet does not make sense, as we can have multiple endpoints referencing different versions of NServiceBus on the same machine.

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/indualagarsamy,854553,indualagarsamy,https://api.github.com/repos/Particular/NServiceBus/releases/136410/assets,https://api.github.com/repos/Particular/NServiceBus/releases/136410,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.2,https://github.com/Particular/NServiceBus/releases/tag/4.3.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.2,4.3.2,False,False
113716,2013-12-15T16:52:43Z,2013-12-16T19:10:19Z,4.3.1,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=45&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.3.0...4.3.1).
Hot fix release for 4.3.1

## Bugs

### [#1841 Fix typo in the license dialog](https://github.com/Particular/NServiceBus/issues/1841)

The trial expiration dialog has a typo in the explanation text.

### [#1840 Trial expiry window no longer popping up when running in the emulator](https://github.com/Particular/NServiceBus/issues/1840)

In NSB 4.3 the trial expiry window is no longer popping up when running in the emulator, making the process hang and not allowing you to select a license either.

### [#1837 Invalid operation exception, when trying to auto subscribe to events when using Brokered transports](https://github.com/Particular/NServiceBus/issues/1837)

When using brokered transports that offer support for centralized pub/sub like `RabbitMQ` and `ActiveMQ`, the `EndpointMappings` to specify event subscriptions are not needed. However, without it, an InvalidOperation exception was being thrown.

### [#1832 Saga is not started, when using a base class event to start the saga](https://github.com/Particular/NServiceBus/issues/1832)

When you specify a base event in the `IAmStartedByMessages<T>` and a derived event is being published the saga does not start.

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/113716/assets,https://api.github.com/repos/Particular/NServiceBus/releases/113716,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.1,https://github.com/Particular/NServiceBus/releases/tag/4.3.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.1,4.3.1,False,False
110586,2013-12-05T08:02:39Z,2013-12-05T09:14:15Z,4.3.0,"This release consist of [these issues](https://github.com/Particular/NServiceBus/issues?milestone=42&state=closed) that were achieved through [these commits](https://github.com/Particular/NServiceBus/compare/4.2.0...4.3.0).

## Features

### [#1732 Support disconnecting workers from a running distributor](https://github.com/Particular/NServiceBus/issues/1732)

Add the ability to send a control message to the distributor telling it to disconnect a given worker. When a worker is disconnected no work will be sent to it and ready messages for that worker will be ignored until it reconnects with a new ""worker-session-id"". 

## Improvements

### [#1767 Obsolete UnicastBus.SkipDeserialization](https://github.com/Particular/NServiceBus/issues/1767)

Users should be writing satellites instead.

### [#1748 Exception rethrow reset stacktrace causing debugging difficulty ](https://github.com/Particular/NServiceBus/issues/1748)

Exception patching is required before rethrowing

### [#1746 Schedule Reflection/ExtensionMethods for removal](https://github.com/Particular/NServiceBus/issues/1746)

To avoid polluting CLR types with our own convenience extension methods.

### [#1720 Simplify the license validation](https://github.com/Particular/NServiceBus/issues/1720)

To make it easier for users we should skip checking binary versions and instead do:
1. Add release date into the binaries as an assmbly attribute
2. Modify the check to: `if UpgradeProtectionExpiryDate>= Now OR UpgradeProtectionExpiryDate >= ReleaseDateOfBinaries => ok`

### [#1709 Upgrade to Autofac 3.1.5](https://github.com/Particular/NServiceBus/issues/1709)

### [#1630 EncryptionMessageMutator is slow due to reflection](https://github.com/Particular/NServiceBus/issues/1630)

## Bugs

### [#1822 ExpiryChecker.IsExpired doesn't work well with royalty free licenses](https://github.com/Particular/NServiceBus/issues/1822)

Royalty free license has an expiry date of 31/12/9999 12:00:00 AM
After adding the one day grace period, an `OutOfRangeException` is thrown by `ExpiryChecker.IsExpired`

### [#1821 Request Response between sites is not finding the registered callback](https://github.com/Particular/NServiceBus/issues/1821)

Due to message `CorrelationId` not being sent

### [#1820 Bus.Defer does not work when passed a date time with DateTime.Now.AddSeconds](https://github.com/Particular/NServiceBus/issues/1820)

Due to the use of local time instead of universal time.

### [#1819 When using unobtrusive mode, saga timeouts are triggered, it does not find the TimeoutHandlers and instead SagaNotFound handlers are invoked](https://github.com/Particular/NServiceBus/issues/1819)

Due to the static `ExtensionMethods.CurrentMessageBeingHandled` not being correctly handled int he pipeline

### [#1818 NullReferenceException after enabling gateway without gatewayconfig in app.config](https://github.com/Particular/NServiceBus/issues/1818)

Due to a missing null check on `GatewayConfig`

### [#1813 Incorrectly shutting down of the pipeline ](https://github.com/Particular/NServiceBus/issues/1813)

Causing `ObjectDisposedException`

### [#1810 Installing host throws exception](https://github.com/Particular/NServiceBus/issues/1810)

Due to incorrect Dispose order

### [#1801 Broke disabling and enabling message handling in UnicastBus.DisableMessageHandling](https://github.com/Particular/NServiceBus/issues/1801)

### [#1788 Bus.InMemory events now expect either unobtrusive conventions or IEvent interface markers](https://github.com/Particular/NServiceBus/issues/1788)

### [#1787 Headers not taken from correct location when doing an Bus.InMemory.Raise](https://github.com/Particular/NServiceBus/issues/1787)

### [#1759 Ilmerge not correctly updating pdbs](https://github.com/Particular/NServiceBus/issues/1759)

Caused difficulty debugging and stepping through NServicebus assemblies

### [#1752 Control Messages causing deserialization exception](https://github.com/Particular/NServiceBus/issues/1752)

Due to incorrectly attempting to deserialization them. 

Will now skip deserialization and continue the pipeline.

### [#1737 MessageMapper.Initialize NullReferenceException due to incorrect treatment of generic types](https://github.com/Particular/NServiceBus/issues/1737)

If in the domain the following abstract class is defined, the bus will during the startup cause a NullReferenceException

### [#1690 Powershell Test-NServiceBusDTCInstallation incorrectly reports true on Windows 2003](https://github.com/Particular/NServiceBus/issues/1690)

Due to incorrect registry entry being checked 

### [#1678 Stack corruption due to exception in 3rd party exception class](https://github.com/Particular/NServiceBus/issues/1678)

If a message handler throws an `Exception` whose `Message` property throws an `Exception` then NServiceBus.Host.exe crashes with a corrupted stack. This causes the endpoint to crash.

### [#1652 Unable to subscribe for a base event from multiple publishers.](https://github.com/Particular/NServiceBus/issues/1652)

### [#978 Worker restarts can cause extra ready messages in the distributor storage](https://github.com/Particular/NServiceBus/issues/978)

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/110586/assets,https://api.github.com/repos/Particular/NServiceBus/releases/110586,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.3.0,https://github.com/Particular/NServiceBus/releases/tag/4.3.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.3.0,4.3.0,False,False
85983,2011-01-12T14:32:45Z,2013-11-06T10:08:30Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85983/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85983,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/2.5.0.1446,https://github.com/Particular/NServiceBus/releases/tag/2.5.0.1446,https://api.github.com/repos/Particular/NServiceBus/zipball/2.5.0.1446,2.5.0.1446,False,False
85982,2011-09-09T17:16:24Z,2013-11-06T10:07:58Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85982/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85982,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/2.6.0.1504,https://github.com/Particular/NServiceBus/releases/tag/2.6.0.1504,https://api.github.com/repos/Particular/NServiceBus/zipball/2.6.0.1504,2.6.0.1504,False,False
85947,2012-03-08T17:38:16Z,2013-11-06T10:05:34Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85947/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85947,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.0.0,https://github.com/Particular/NServiceBus/releases/tag/3.0.0,https://api.github.com/repos/Particular/NServiceBus/zipball/3.0.0,3.0.0,False,False
85946,2012-03-22T15:41:10Z,2013-11-06T10:06:08Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85946/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85946,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.0.1,https://github.com/Particular/NServiceBus/releases/tag/3.0.1,https://api.github.com/repos/Particular/NServiceBus/zipball/3.0.1,3.0.1,False,False
85938,2012-04-02T12:54:53Z,2013-11-06T09:26:55Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85938/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85938,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.0.2,https://github.com/Particular/NServiceBus/releases/tag/3.0.2,https://api.github.com/repos/Particular/NServiceBus/zipball/3.0.2,3.0.2,False,False
85909,2012-04-04T15:53:41Z,2013-11-06T09:07:49Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85909/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85909,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.0.3,https://github.com/Particular/NServiceBus/releases/tag/3.0.3,https://api.github.com/repos/Particular/NServiceBus/zipball/3.0.3,3.0.3,False,False
85906,2012-05-08T06:32:26Z,2013-11-06T09:07:32Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85906/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85906,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.0.4,https://github.com/Particular/NServiceBus/releases/tag/3.0.4,https://api.github.com/repos/Particular/NServiceBus/zipball/3.0.4,3.0.4,False,False
85897,2012-05-21T14:57:13Z,2013-11-06T08:43:08Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85897/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85897,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.1.1,https://github.com/Particular/NServiceBus/releases/tag/3.1.1,https://api.github.com/repos/Particular/NServiceBus/zipball/3.1.1,3.1.1,False,False
85894,2012-05-22T13:23:18Z,2013-11-06T08:35:20Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85894/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85894,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.0,https://github.com/Particular/NServiceBus/releases/tag/3.2.0,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.0,3.2.0,False,False
85888,2012-05-29T11:16:29Z,2013-11-06T08:22:21Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85888/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85888,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.1,https://github.com/Particular/NServiceBus/releases/tag/3.2.1,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.1,3.2.1,False,False
85883,2012-06-04T14:43:25Z,2013-11-06T08:03:29Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85883/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85883,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.2,https://github.com/Particular/NServiceBus/releases/tag/3.2.2,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.2,3.2.2,False,False
85856,2012-06-20T12:50:28Z,2013-11-06T06:59:03Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85856/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85856,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.3,https://github.com/Particular/NServiceBus/releases/tag/3.2.3,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.3,3.2.3,False,False
85613,2012-06-23T13:09:46Z,2013-11-06T07:42:48Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85613/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85613,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.4,https://github.com/Particular/NServiceBus/releases/tag/3.2.4,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.4,3.2.4,False,False
85569,2012-07-10T02:59:16Z,2013-11-05T22:17:22Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85569/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85569,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.5,https://github.com/Particular/NServiceBus/releases/tag/3.2.5,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.5,3.2.5,False,False
85566,2012-07-11T11:33:30Z,2013-11-05T22:16:48Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85566/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85566,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.6,https://github.com/Particular/NServiceBus/releases/tag/3.2.6,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.6,3.2.6,False,False
85545,2012-08-08T09:22:08Z,2013-11-05T21:32:30Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85545/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85545,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.7,https://github.com/Particular/NServiceBus/releases/tag/3.2.7,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.7,3.2.7,False,False
85492,2012-08-29T15:10:43Z,2013-11-05T21:09:23Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85492/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85492,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.2.8,https://github.com/Particular/NServiceBus/releases/tag/3.2.8,https://api.github.com/repos/Particular/NServiceBus/zipball/3.2.8,3.2.8,False,False
85490,2012-10-29T14:33:56Z,2013-11-05T21:10:13Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85490/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85490,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.0,https://github.com/Particular/NServiceBus/releases/tag/3.3.0,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.0,3.3.0,False,False
85461,2012-11-05T12:48:05Z,2013-11-05T20:00:14Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85461/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85461,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.1,https://github.com/Particular/NServiceBus/releases/tag/3.3.1,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.1,3.3.1,False,False
85422,2012-11-20T11:35:48Z,2013-11-05T19:25:01Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85422/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85422,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.2,https://github.com/Particular/NServiceBus/releases/tag/3.3.2,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.2,3.3.2,False,False
85411,2012-12-11T12:41:24Z,2013-11-05T18:48:55Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85411/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85411,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.3,https://github.com/Particular/NServiceBus/releases/tag/3.3.3,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.3,3.3.3,False,False
85409,2013-01-15T06:30:00Z,2013-11-05T18:27:51Z,,"This release is missing the origenal binaries
",https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85409/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85409,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.4,https://github.com/Particular/NServiceBus/releases/tag/3.3.4,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.4,3.3.4,False,False
85406,2013-02-07T16:09:13Z,2013-11-05T18:49:54Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85406/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85406,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.5,https://github.com/Particular/NServiceBus/releases/tag/3.3.5,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.5,3.3.5,False,False
85374,2013-04-22T07:03:10Z,2013-11-05T17:40:39Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85374/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85374,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.6,https://github.com/Particular/NServiceBus/releases/tag/3.3.6,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.6,3.3.6,False,False
85353,2013-05-08T11:36:39Z,2013-11-05T17:16:17Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85353/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85353,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.7,https://github.com/Particular/NServiceBus/releases/tag/3.3.7,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.7,3.3.7,False,False
85340,2013-06-05T12:04:23Z,2013-11-05T17:06:25Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85340/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85340,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/3.3.8,https://github.com/Particular/NServiceBus/releases/tag/3.3.8,https://api.github.com/repos/Particular/NServiceBus/zipball/3.3.8,3.3.8,False,False
85257,2013-07-22T06:12:41Z,2013-11-05T16:19:39Z,4.0.1,"This patch release includes the following bug fixes:
- Saga with `RequestTimeout` crashes with an item with the same key has already been added https://github.com/NServiceBus/ServiceBus/issues/1323
- Update nugets to not reference a specific NSB version https://github.com/NServiceBus/NServiceBus/issues/1324
- Preserve exception stack trace does not handle non-serializable exceptions  https://github.com/NServiceBus/NServiceBus/issues/1314
- Added locking logic to `AzureMessageQueueReceiver.GetMessage` to resolve failure to get messages from queue unde high load https://github.com/NServiceBus/NServiceBus/pull/1312 

The binaries are available via [NuGet](http://www.nuget.org/profiles/nservicebus) and http://particular.net/downloads
",https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85257/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85257,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.1,https://github.com/Particular/NServiceBus/releases/tag/4.0.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.1,4.0.1,False,False
85243,2013-07-31T06:30:55Z,2013-11-05T15:46:43Z,,,https://api.github.com/users/seanfarmar,125256,seanfarmar,https://api.github.com/repos/Particular/NServiceBus/releases/85243/assets,https://api.github.com/repos/Particular/NServiceBus/releases/85243,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.2,https://github.com/Particular/NServiceBus/releases/tag/4.0.2,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.2,4.0.2,False,False
84651,2013-11-05T01:30:54Z,2013-11-05T01:56:52Z,4.2.0,"To see the full list of issues see [Milestone 4.2.0](https://github.com/Particular/NServiceBus/issues?milestone=39&page=1&state=closed).

To see the full list of commits see [this compare](https://github.com/Particular/NServiceBus/compare/4.1.1...4.2.0).

## Improvements

### [#1431 Better pipeline for the handler execution](https://github.com/Particular/NServiceBus/issues/1431)

Partially inspired by the [Fubu Russian doll model](http://codebetter.com/jeremymiller/2011/01/09/fubumvcs-internal-runtime-the-russian-doll-model-and-how-it-compares-to-asp-net-mvc-and-openrasta/) the internal execution of handlers now takes a nested execution approach. 

We refer to this nested approach referred to as a `Chain`. Each step in this `Chain` is referred to as a `Behavior`. 

So part of the chain would be 

```
Start chain
invokes ApplyIncomingMessageMutatorsBehavior 
    invokes CallbackInvocationBehavior 
        invokes LoadHandlersBehavior 
            invokes SagaPersistenceBehavior 
                invokes InvokeHandlersBehavior
```

This allows each behavior to have control of 
- What is executed before the nested behavior 
- Optionally not invoke the nested behavior 
- Handle exceptions that occur during the nested execution
- Optionally wrap the nested action in a transaction
- What is executed after the nested behavior 
- Manipulate the data passed into and received from the nested behavior 

## Bugs

### [#1717 If persistence is disabled in the fluent configuration but persistence key is present in the config file, persistence is enabled](https://github.com/Particular/NServiceBus/issues/1717)

The logic should be disabled and give a warning that configs are not consistent.

Related to https://github.com/Particular/NServiceBus/issues/1716

### [#1714 Lack of 32-bit host in NServiceBus.Host32 package](https://github.com/Particular/NServiceBus/issues/1714)

The `NServiceBus.Host32` package 4.1.1 does not contain `NServiceBus.Host32.exe`, but `NServiceBus.Host.exe`

The output from `CorFlags` illustrates the issue

```
CLR Header: 2.5
PE        : PE32
CorFlags  : 9
ILONLY    : 1
32BIT     : 0
Signed    : 1
```

### [#1713 SagaPipeline - Saga is not started, when an event is published](https://github.com/Particular/NServiceBus/issues/1713)

### [#1712 Remove dependency T4](https://github.com/Particular/NServiceBus/issues/1712)

T4 Scaffolding are not adding much value. Also there are compatibility issues with Visual Studio 2013

### [#1708 Autofac 3.0.0 leaks memory](https://github.com/Particular/NServiceBus/issues/1708)

When child containers is used. Fix is to upgrade Autofac to 3.0.1

From [Autofac Release Notes](https://code.google.com/p/autofac/wiki/ReleaseNotes)

> Rollback of  Issue 397  (Nested lifetime scopes aren't disposed when the parent is disposed) due to memory leak.

### [#1699 Messages processed by the Gateway satellite are being forwarded to the audit queue causing duplicates in the audit queue.](https://github.com/Particular/NServiceBus/issues/1699)

### [#1687 Windows Server 2012 installing MSMQ using Powershell Cmdlet fails](https://github.com/Particular/NServiceBus/issues/1687)

Fails with the error

```
Error: 0x800f080c

Feature name MSMQ-Container is unknown.
A Windows feature name was not recognized.
```

Change to use the `/all` option in `DISM` on Server 2012

### [#1685 Powershell error when installing NServiceBus nuget package regarding registry key](https://github.com/Particular/NServiceBus/issues/1685)

Add a check to see if the key exists

### [#1642 Remove impersonation feature](https://github.com/Particular/NServiceBus/issues/1642)

Historically `ImpersonateSender` was renamed to `RunHandlersUnderIncomingPrincipal` as part of #1104. 

However the new API adds little clarity.

Dissecting `RunHandlersUnderIncomingPrincipal` gives the impression that ""Handlers will be run under the principal of the user who sent the message""

When in reality all this API is about is ""telling the handler who made the call"" not anything to do with security or impersonation. It does this by setting `Thread.CurrentPrincipal` to a fake principal containing the username of the user who sent the message. It extracts this username from the message headers. The handler code is free use use  `Thread.CurrentPrincipal` or to ignore. Either way all handler code will be run under the account the process is running as. 

This API will be removed. If people want to access the sending user they can do so by using the message headers like they do for any other message metadata.

### [#1640 ReturnToSource does not recognize the Id in the message headers and does not return the message.](https://github.com/Particular/NServiceBus/issues/1640)

Fix so that ReturnToSource is backwards compatible with earlier versions

### [#1629 TimeToBeReceivedAttribute.TimeToBeReceived should not be optional](https://github.com/Particular/NServiceBus/issues/1629)

`TimeToBeReceivedAttribute` has an empty constructor and hence `TimeToBeReceived` is optional. This should not be the case. The empty constructor should be obsoleted and then removed.

### [#1337 upgrade to Castle Windsor 3.2.1 to fix scoping lifetimes when used in Azure](https://github.com/Particular/NServiceBus/issues/1337)

From the [Castle Windsor Release Notes](http://www.castleproject.org/blog/2013/07/castle-windsor-3-2-1-bugfix-release/)

> It fixes a problem some users encountered, when CallContext scoped lifestyle is used in certain cross-AppDomain contexts. It specifically affected users of some testing framework or NServiceBus when deployed to Azure. The bug would manifest itself with the following exception:

```
SerializationException — Type is not resolved for member
“Castle.MicroKernel.Lifestyle.Scoped.CallContextLifetimeScope+SerializationReference,    
Castle.Windsor, Version=3.2.0.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc”
```

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/84651/assets,https://api.github.com/repos/Particular/NServiceBus/releases/84651,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.2.0,https://github.com/Particular/NServiceBus/releases/tag/4.2.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.2.0,4.2.0,False,False
72660,2013-10-21T04:30:35Z,2013-10-21T23:18:02Z,4.1.1,"To see the full list of commits for this release click [here](https://github.com/Particular/NServiceBus/compare/4.1.0...4.1.1).
**This release is fully backwards with previous v4 releases.**
This affects only users that do not have .NET v4.5 installed.

## Most critical bug fixes in this release
- [#1693] NServiceBus v4.1.0 throws ""Could not load type 'System.Runtime.CompilerServices.ExtensionAttribute' from assembly 'mscorlib'"", when .NET v4.5 is not installed, see http://stackoverflow.com/questions/13748055/could-not-load-type-system-runtime-compilerservices-extensionattribute-from-as

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/72660/assets,https://api.github.com/repos/Particular/NServiceBus/releases/72660,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.1,https://github.com/Particular/NServiceBus/releases/tag/4.1.1,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.1,4.1.1,False,False
63379,2013-10-16T06:51:37Z,2013-10-17T07:16:50Z,4.1.0,"To see the full list of commits for this release click [here](https://github.com/Particular/NServiceBus/compare/4.0.5...4.1.0).
**This release is fully backwards with previous v4 releases.**
If you are affected by any of the issues listed below we recommend you upgrade.

## Known issues
- [#1687]  Windows Server 2012 installing MSMQ using Powershell Cmdlet fails.

When using the `Install-NServiceBusMSMQ` on Windows Server 2012 the command will fail with the error `Feature name MSMQ-Container is unknown.`. The workaround is to run the following command manually

> dism /Online /NoRestart /English /Enable-Feature  /all /FeatureName:MSMQ-Server

The fix for this issue is scheduled for the 4.2 release.

## New Features Overview
- [#1362] @SimonCropp did major work to ensure we are disposing of everything that needs to be disposed, we using the awesome [Janitor](https://github.com/Fody/Janitor) to helps us out :+1: 
- [#718, #1230, #1392] The Gateway received quite a few improvements courtesy of @chrisbednarski, here is an overview:
  
  ##### The need for ACK calls has been removed altogether.
  
  In 4.0 each message requires at least 2 HTTP calls, message body + ACK (the ACKs are required in case Databus properties are transferred after the message body).
  In 4.1 the Databus properties are sent before the message body, so the need for ACKs has been removed.
  
  ##### Since there is no need for ACKs, the persistence doesn't have to temporarily store the entire message + headers
  
  In 4.0 the message body is retrieved from the persistence store during the ACK.
  In 4.1 the only thing that gets stored in the deduplication store is the stable message id + datetime received.
  
  ##### To enable this new features
  
  Set `LegacyMode=""false""` in app.config, example:
  
  ``` xml
  <GatewayConfig>
   <Sites>
    <Site Key=""SiteA"" Address=""http://localhost:25899/SiteA/"" ChannelType=""Http"" />
    <!-- Legacy mode means that messages sent to SiteB as well as any replies from SiteB back to Headquarter will use the new forwarder (IForwardMessagesToSites), legacy mode is enabled by default so we are compatible with endpoints prior to v4.1 -->
    <Site Key=""SiteB"" Address=""http://localhost:25899/SiteB/"" ChannelType=""Http"" LegacyMode=""false""/>
   </Sites>
   <Channels>
    <Channel Address=""http://localhost:25899/Headquarter/"" ChannelType=""Http"" />
  
    <!-- The default channel is the channel that will be set as return address. This means that any replies will come back on this channel-->
    <Channel Address=""http://localhost:25899/Headquarter2/"" ChannelType=""Http"" Default=""true""/>
   </Channels>
  </GatewayConfig>
  ```
- [#1308] NServiceBus.Powershell.dll is now in nuget :smile:, thanks @chrisbednarski;
- [#1036] Allow specifying handlers order without using `First<T>`, you can now specify handlers order in a much cleaner way :smile:, here is an example:  
  
  ``` c#
  class MyOrder : ISpecifyMessageHandlerOrdering
  {
      public void SpecifyOrder(Order order)
      {
          order.Specify(new[] { typeof(FirstHandler), typeof(SecondHandler) });
      }
  }
  ```
  
  Thanks @nbarnwell for the PR
- [#1476] New overload for Configure.Component, thanks @chrisbednarski for the PR
- [#1309] Introduce a way to disable audit.
  In v4 we made Audit **On** by default, and there was no way to disable it (or at least no easy way!). 
  To disable Audit, add the following to your EndpointConfig file:
  
  ``` c#
  Configure.Features.Disable<Audit>();
  ```
- [#1339] Auditing is now a first level concept.
  Prior to this release a way to enable auditing of messages was to configure forwarding of messages via `ForwardReceivedMessagesTo` attribute, eg: `<UnicastBusConfig ForwardReceivedMessagesTo=""audit""/>`
  Now in this release we introduce a new configuration section:
  
  ``` xml
  <AuditConfig 
    QueueName=""The address to which messages received will be forwarded.""
    OverrideTimeToBeReceived=""The time to be received set on forwarded messages, specified as a timespan see http://msdn.microsoft.com/en-us/library/vstudio/se73z7b9.aspx""  />
  ```
  
  And if you want to quickly update your config files to use the new way use the following cmdlet:
  
  `PM> Add-NServiceBusAuditConfig`
- [#1342] Introducing a way to control lock modes when using the NHibernate saga persister.
  This change makes the default `LockMode` `UpdateLock` and allows to be specified as part of the Saga data class, here is an example:
  
  ``` c#
  [LockMode(LockModes.UpgradeNoWait)]
  public class SagaData : ContainSagaData
  {
      [Unique]
      public virtual int Number { get; set; }
  
      public virtual int NumCalls { get; set; }
  }
  ```
- [#1524] Improvements in the assembly scanner, @mookid8000 (our new family member) has done major work in the assembly scanner;
- [#1599] Performance improvement in MSMQ transport message receiving;

## Most critical bug fixes in this release
- [#1405] Combination of Costura and Aspose can cause infinite loop, thanks @thirkcircus for reporting and helping us testing the fix;
- [#1492] Unit Tests fail with ConfigurationErrorsException, thanks @chrisbednarski for PR;
- [#1481] When using DataBus with multiple subscribers that share the same storage causes exception;
- [#1384] Use Configure.GetConfigSection<T> for Gateway like other IProvideConfig<T>. thanks @michaelnoonan for the PR;
- [#1470] NSB checks RavenDB version for testing, thanks @agross for reporting this issue;
- [#1549] Not supporting generic message handlers, thanks @tkristiansen for reporting this issue;
- [#1483] If a Satellite fails to start shouldn't the whole endpoint be considered as failed to start, thanks @michaelnoonan for reporting this issue;
- [#652] Username command line argument not used when assigning queue permissions;
- [#1512] Deadlocks occur on timeout table and index on endpoint incomplete, thanks @ramonsmits for reporting and providing us with a PR;
- [#1640] ReturnToSource does not recognize the Id in the message headers and does not return the message;

## Obsoleted APIs in this release
- [#1334] RecoverableAttribute has been obsoleted as recoverable is now the default;
- [#1402] The `IBus` batch messaging APIs have been obsoleted.
  This includes the following:
  
  ``` c#
  ICallback SendLocal(params object[] messages);
  void Publish<T>(params T[] messages);
  ICallback Send(params object[] messages);
  ICallback Send(string destination, params object[] messages);
  ICallback Send(Address address, params object[] messages);
  ICallback Send(string destination, string correlationId, params object[] messages);
  ICallback Send(Address address, string correlationId, params object[] messages);
  ICallback SendToSites(IEnumerable<string> siteKeys, params object[] messages);
  ICallback Defer(TimeSpan delay, params object[] messages);
  ICallback Defer(DateTime processAt, params object[] messages);
  void Reply(params object[] messages);
  ICallback SendToSites(IEnumerable<string> siteKeys, params object[] messages);  
  ```
  
  They will be removed in a version 5.0 of NServiceBus.
  
  #### Reasons
  
  There are several reasons for this change.
  
  ##### Confusing API
  
  The general perception of these APIs that it was ""a way to send multiple messages to a specified destination"". Where the behaviour is actually ""send all the specified message in a single payload and within a single transaction"". This may seem like a semantic difference but it actually a significant difference in behaviour. The reason is that if it was just a simple ""send multiple messages"" then each message would be handled individually, including message failure. But the ""single transaction"" behaviour means if the a message fails then all messages will be considered failed an rolled back.
  
  ##### Message Headers
  
  Several features within NServiceBus rely on the usage of message headers. It is also a valuable extensibility point for adding features to NServiceBus. Unfortunately the concept of message headers is incompatible with a batch approach to sending messages. Significant complexity is currently in place to work around most of this incompatibility but is is not a viable approach moving forward.
  
  ### Still want to send multiple messages
  
  Many people may have actually been using this API as a simple ""way to send multiple messages to a specified destination"" and have suffered no problems with the ""single transaction"" behaviour. If you want to continue using this API for convenience but have messages handled in separate transactions you can write some simple extension methods for `IBus` to enable this. For example:
  
  ``` c#
  public static class BusExtensions
  {
      public static void MultiSend(this IBus bus, Address address, params object[] messages)
      {
          foreach (var message in messages)
          {
              bus.Send(address, message);
          }
      }
  } 
  ```

## Where to get it

You can download this release from:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/63379/assets,https://api.github.com/repos/Particular/NServiceBus/releases/63379,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.1.0,https://github.com/Particular/NServiceBus/releases/tag/4.1.0,https://api.github.com/repos/Particular/NServiceBus/zipball/4.1.0,4.1.0,False,False
53430,2013-09-26T00:46:35Z,2013-10-01T00:52:10Z,4.0.5,"This patch release fixes the following issues:
- #1558 Publisher not publishing derived events for classes, thanks @thirdvalve for reporting and providing us a repro
- #1572 “Multiple serializers are not supported” configuration error in NServiceBus 4.0.4 during unit testing, thanks @chrisbednarski for reporting this and providing us with a PR
- #1552 Error with JSON serialized commands when using Azure transports, thanks @mj1856 for reporting and providing us a repro

This release is fully backwards with previous v4 releases.

If you are affected by any of the above issues we recommend you upgrade.

You can download this release from here:
- Our [website](http://particular.net/downloads)
- Or [nuget](https://www.nuget.org/profiles/nservicebus/)
",https://api.github.com/users/johnsimons,122651,johnsimons,https://api.github.com/repos/Particular/NServiceBus/releases/53430/assets,https://api.github.com/repos/Particular/NServiceBus/releases/53430,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.5,https://github.com/Particular/NServiceBus/releases/tag/4.0.5,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.5,4.0.5,False,False
38244,2013-09-04T01:54:08Z,2013-09-04T02:11:59Z,4.0.4,"This patch release fixes the following issues:
- https://github.com/Particular/NServiceBus/issues/1477 `HttpChannelReceiver` uses `HttpListener.Stop` instead of `HttpListener.Close`
- https://github.com/Particular/NServiceBus/issues/1385 ""Gateway failed to receive incoming request"" on bus shutdown

Those using the Gateway inside a web application should upgrade as you may experience intermittent issued during app-pool restarts.

This release is fully backwards compliant with previous v4 releases.

Thanks to @michaelnoonan helping us verify the fixes!

You can download this release from here:

http://particular.net/downloads

or get it via nuget.
",https://api.github.com/users/SimonCropp,122666,SimonCropp,https://api.github.com/repos/Particular/NServiceBus/releases/38244/assets,https://api.github.com/repos/Particular/NServiceBus/releases/38244,master,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.4,https://github.com/Particular/NServiceBus/releases/tag/4.0.4,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.4,4.0.4,False,False
28794,2013-08-16T10:48:42Z,2013-08-19T10:38:33Z,4.0.3,"This patch release fixes the following issues:
- https://github.com/Particular/NServiceBus/issues/1443
  This issue can cause potential loss of messages in flight when SLR or error queues are missconfigured
- https://github.com/Particular/NServiceBus/issues/1407
  Sagas started by a messages sent by another sagas timeout handlers doesn't work correctly. Sagas fail to start if the initiating messages comes from a timeout handler due to the NServiceBus.SagaId header being wrongly populated.
- https://github.com/Particular/NServiceBus/issues/1411
  The gateway fails to correlate the response messages correctly.

Due to bug #1443 we recommend that all v4 users upgrade to this version.

This release is fully backwards compliant with previous v4 releases.

Thanks to @joeschick and @michaelnoonan  for providing an excellent bug reports with easy steps to reproduce!

You can download this release from here:

http://particular.net/downloads

or get it via nuget.
",https://api.github.com/users/andreasohlund,125028,andreasohlund,https://api.github.com/repos/Particular/NServiceBus/releases/28794/assets,https://api.github.com/repos/Particular/NServiceBus/releases/28794,develop,https://api.github.com/repos/Particular/NServiceBus/tarball/4.0.3,https://github.com/Particular/NServiceBus/releases/tag/4.0.3,https://api.github.com/repos/Particular/NServiceBus/zipball/4.0.3,4.0.3,False,False
